"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9308],{92858:function(e,t,r){r.d(t,{Z:function(){return aL}});var a,s,n,l,i,o,d=r(3827),c=r(64090),u=r(37181),x=r(91919),h=r(17077),m=r(4338);let g=e=>e.target.getAttribute("data-highlight-id");var p=e=>{let{editor:t}=e,r=(0,m.Yn)(),a=(0,c.useCallback)(e=>{let{selectHighlight:a}=r(),s=g(e);s&&t.view.state.selection.empty&&(a(s),(0,h.Z)(t.view))},[t.view,r]),s=(0,c.useCallback)(e=>{let{hoveredHighlightId:a,setHoveredHighlightId:s}=r(),n=g(e);n!==a&&(s(n),(0,h.Z)(t.view))},[t.view,r]);return(0,c.useEffect)(()=>{let e=t.view.dom;if(e)return e.addEventListener("mousemove",s),e.addEventListener("click",a),()=>{e.removeEventListener("mousemove",s),e.removeEventListener("click",a)}},[t.view.dom,a,s]),null},f=r(94794),b=r(5534),C=r(40318);let v=(e,t)=>{let{top:r,left:a,width:s,height:n}=e,{scrollLeft:l,scrollTop:i}=t,o=t.getBoundingClientRect();return new DOMRect(a+l-o.left,r+i-o.top,s,n)};var j=e=>{var t;let{editor:r,isHighlight:a}=e,{state:s}=r.view,{selection:n}=s,l=(0,m.Yn)(),i=(0,m.s0)(),o=(0,m.oS)(e=>{var t;return null===(t=e.selectedHighlight)||void 0===t?void 0:t.id}),[d,u]=(0,c.useState)((null===(t=i.current)||void 0===t?void 0:t.scrollTop)||0);return(0,c.useEffect)(()=>{if(!i.current)return;let e=i.current,t=()=>{u(e.scrollTop)};return t(),e.addEventListener("scroll",t),()=>{e.removeEventListener("scroll",t)}},[i]),(0,c.useMemo)(()=>{if((0,C.EG)(n)){let e=r.view.nodeDOM(n.from);if(e)return e.getBoundingClientRect()}if(a){let t=(0,b.oj)(l()),a=t.from,s=t.to,n=r.view.coordsAtPos(a),o=r.view.coordsAtPos(s);if(n.top!==o.top){var e;let t=null===(e=r.options.element)||void 0===e?void 0:e.getBoundingClientRect(),a=t.left,s=t.right,l=Math.min(n.top,o.top),d=Math.max(n.bottom,o.bottom);return v(new DOMRect(a,l,s-a,d-l),i.current)}}return v((0,C.pr)(r.view,n.from,n.to),i.current)},[r.options.element,r.view,o,l,a,i,d,n])},y=r(58140),w=r(58058),k=r(89461),N=r(74505),Z=r(11175),S=r(8289),T=r(77790),L=r(33541),I=r(13742),P=e=>{var t;let{errorResponse:r,onClose:a}=e;return(0,d.jsx)(I.fC,{open:!0,onOpenChange:()=>null==a?void 0:a(),children:(0,d.jsxs)(I.h_,{children:[(0,d.jsx)(I.aV,{className:"fixed inset-0 max-h-screen bg-black bg-opacity-50 dark:bg-opacity-70"}),(0,d.jsxs)(I.VY,{className:"rounded shadow-2xl bg-white dark:bg-slate-700 dark:text-slate-300 p-4 fixed max-w-prose inset-1/2 w-full h-fit max-h-screen overflow-y-auto transform -translate-x-1/2 -translate-y-1/2 space-y-4",children:[(0,d.jsx)(I.Dx,{children:(0,d.jsx)("span",{className:"text-xl font-bold",children:"Something went wrong"})}),(0,d.jsx)("p",{children:(null===(t=r.error)||void 0===t?void 0:t.message)||"Please try again."}),(0,d.jsx)("div",{className:"flex flex-row space-x-2 justify-end",children:(0,d.jsx)(I.x8,{asChild:!0,children:(0,d.jsx)(k.Z,{buttonColor:"primary",children:"Close"})})})]})]})})},A=r(85772),E=r(98171),O=r(17242),D=r(21193);let M=e=>{let{apiURL:t,isTestComparison:r,prompt:a}=e;return a?"".concat(t,"?prompt=").concat(a).concat(r?"&isTestComparison=true":""):t};var H=e=>{let{apiURL:t,apiBody:r,isTestComparison:a,setError:s,testPrompt:n}=e,[l,i]=(0,c.useState)([]),o=(0,c.useMemo)(()=>({...r,rejections:l.slice(-3)}),[r,l]),{completion:d,complete:u,stop:x,isLoading:h}=(0,D.GO)({api:M({apiURL:t,isTestComparison:a,prompt:n}),body:o,onError:e=>{s({error:e})}});(0,c.useEffect)(()=>{i(e=>[...e.slice(0,-1),d.trim()]),s(null)},[d,s,i]);let m=(0,c.useCallback)(()=>{h||x()},[h,x]),g=(0,c.useCallback)(async()=>{await u("")||s({error:{message:"Something went wrong with the AI."}})},[u,s]),p=(0,c.useCallback)(async()=>{m(),i(e=>[...e.slice(),""]),await g()},[m,g,i]);return{isLoading:h,generations:l,handleGenerateContent:g,handleRefresh:p,handleCloseDialog:(0,c.useCallback)(()=>{m(),i([])},[m,i])}};(a=l||(l={}))["add-detail"]="add-detail",a.confident="confident",a["creative-rephrase"]="creative-rephrase",a.custom="custom",a.format="format",a.friendly="friendly",a.casual="casual",a.formal="formal",a.persuasive="persuasive",a.polish="polish",a.shorten="shorten";var z=r(80612),R=r(86459),B=r(91797),_=r(38539),F=r(98143),U=r(71434),W=r(13189),V=r(59919),G=r(91503),Y=r(84590),K=r(40488),J=r(35878),q=r(66107),Q=r(68690),$=r(56235),X=r(70689),ee=r(47195),et=r(22600),er=r(46226),ea=r(70536),es=r(34734),en=r(41579),el=r(11293),ei=e=>(0,c.useMemo)(()=>e&&0!==e.length?(0,el.Py)({blockId:"preview",textContent:e}).stats:null,[e]);let eo=e=>void 0!==e.outputText;var ed=e=>{var t,r,a;let{children:s,inputText:n,title:l,type:i}=e,o=eo(e),u=o?e.outputText:n,x=!!o&&e.isPromptExperiment,h="simplify"===i||"simplify-bulk"===i,m=(0,c.useRef)(null),[g,p]=(0,c.useState)(!o);(0,c.useEffect)(()=>{p(!1);let e=setTimeout(()=>{p(!0)},400);return()=>clearTimeout(e)},[u]),(0,c.useEffect)(()=>{o&&m.current&&"continue-writing"===i&&m.current.scrollIntoView({behavior:"smooth",block:"start"})});let f=ei(n||""),b=null!==(t=null==f?void 0:f.readingLevel)&&void 0!==t?t:null,C=ei(u||""),v=null!==(r=null==C?void 0:C.readingLevel)&&void 0!==r?r:null,j=null!==(a=null==C?void 0:C.readability)&&void 0!==a?a:null;return(0,d.jsxs)("div",{className:(0,es.Z)("bg-gray-100 dark:bg-slate-800 p-4 rounded-lg flex flex-col","relative h-full"),children:[(0,d.jsxs)("div",{className:"flex flex-row items-center h-9 mb-4",children:[(0,d.jsx)("div",{className:"flex-1 text-sm font-semibold",children:l}),o&&void 0!==e.currentGenerationIndex&&void 0!==e.generationsCount&&e.generationsCount>1&&(0,d.jsxs)("div",{className:(0,es.Z)("flex-1 flex flex-row space-x-2 items-center",h?"justify-center":"justify-end"),children:[(0,d.jsx)(k.Z,{buttonColor:"secondary",buttonSize:"sm",disabled:0===e.currentGenerationIndex,onClick:e.onSelectPreviousGeneration,children:(0,d.jsx)(er.Z,{size:16})}),(0,d.jsxs)("span",{children:[e.currentGenerationIndex+1," / ",e.generationsCount]}),(0,d.jsx)(k.Z,{buttonColor:"secondary",buttonSize:"sm",disabled:e.currentGenerationIndex===e.generationsCount-1,onClick:e.onSelectNextGeneration,children:(0,d.jsx)(ea.Z,{size:16})})]}),!x&&h&&(0,d.jsx)("div",{className:"flex-1 flex flex-row justify-end text-right",children:g&&null!==j&&null!==v&&(0,d.jsx)(en.R,{readability:j,readingLevel:v})})]}),(0,d.jsx)("div",{className:(0,es.Z)("flex-grow overflow-y-auto",o&&e.isPromptExperiment?"pb-16":"pb-4"),children:(0,d.jsxs)("div",{className:"flex flex-col space-y-2 flex-1",children:[o&&h&&!x&&g&&null!==b&&null!==v&&b<=v&&(0,d.jsx)("div",{className:"p-2 bg-yellow-100 dark:bg-yellow-800 rounded-b text-xs text-yellow-900 dark:text-yellow-100 flex-shrink-0",children:"Our AI couldn't simplify the sentence this time. We won't count this towards your AI sentence limit."}),(0,d.jsx)("div",{className:"prose prose-slate dark:prose-invert font-editor prose-headings:font-editorHeadings flex-1",children:s}),(0,d.jsx)("div",{className:"w-0 h-0 flex-shrink-0",ref:m})]})}),(0,d.jsx)("div",{className:"absolute bottom-0 left-0 right-0 rounded-md p-2 pt-5 bg-gradient-to-b from-transparent via-gray-100 via-30% to-gray-100 dark:via-slate-800 dark:to-slate-800 flex justify-center",children:o&&e.isPromptExperiment&&e.onChooseExperimentWinner&&(0,d.jsx)(k.Z,{buttonColor:"primary",disabled:!g,Icon:ee.Z,onClick:e.onChooseExperimentWinner,children:"Use suggestion"})})]})},ec=r(55423),eu=e=>{let{text:t}=e;return(0,d.jsxs)("span",{className:"text-gray-700 dark:text-slate-400 opacity-40",children:[t," "]})},ex=r(95403);let eh=new(r.n(ex)()),em=e=>{let{issues:t,newIssue:r,originalText:a}=e,s=t[t.length-1],n=s?s.offset+s.length:0,l=0===r.length&&r.correction.length>0,i=!!s&&r.offset===n,o=!!s&&r.offset===n+1;if(l&&!i){let e=a.substring(0,r.offset).lastIndexOf(" "),s=a.indexOf(" ",r.offset-1),n=-1===s||s===a.length-1;if(n&&(-1===e||0===e))return t;if(n){let s=e+1,n=r.offset,l=a.substring(s,n);return[...t,{correction:"".concat(l).concat(r.correction),length:l.length,offset:s}]}{let e=" "!==a[r.offset]?r.offset:r.offset+1,s=a.indexOf(" ",e),n=-1===s?a.length:s,l=a.substring(e,n);return[...t,{correction:"".concat(r.correction.trim()," ").concat(l),length:l.length,offset:e}]}}if(!i&&!o)return[...t,r];{if(0===t.length)return[r];let e="".concat(s.correction).concat(o?" ":"").concat(r.correction);return t.slice(0,-1).concat({...s,correction:e,length:s.length+r.length+(o?1:0)})}},eg=e=>e=(e=e.replace(/[\u201C\u201D]/g,'"')).replace(/[\u2018\u2019]/g,"'"),ep=e=>{let{correctedText:t,textToCheck:r}=e,{chars1:a,chars2:s,lineArray:n}=function(e,t){var r=[],a={};function s(e){for(var t="",s=0,n=-1,l=r.length;s<e.length;){-1==(n=e.indexOf(" ",s))&&(n=e.length);var i=e.substring(s,n),o=n<e.length?" ":"";let d=i=>{a.hasOwnProperty(i)?t+=String.fromCharCode(a[i]):(65535==l&&(i=e.substring(s),n=e.length),t+=String.fromCharCode(l),a[i]=l,r[l++]=i)};d(i),o&&d(o),s=n+1}return t}return r[0]="",{chars1:s(e),chars2:s(t),lineArray:r}}(eg(r),eg(t)),l=eh.diff_main(a,s,!1);eh.diff_charsToLines_(l,n);let i=0,o=[];for(let e of l){let[t,a]=e;if(0===t)i+=e[1].length;else if(1===t)o=em({issues:o,newIssue:{correction:a,length:0,offset:i},originalText:r});else if(-1===t){let e=a.length;o=em({issues:o,newIssue:{correction:"",length:e,offset:i},originalText:r}),i+=e}}return o},ef=(e,t)=>e.slice(t.offset,t.offset+t.length).split(/\s+/).filter(e=>e.length>0).length>4,eb=(e,t)=>t.some(t=>ef(e,t)),eC=(e,t,r,a)=>{let s=[...t].sort((e,t)=>t.offset-e.offset);if(a){let t=e;for(let e of s){let a=t.slice(0,e.offset),s=t.slice(e.offset+e.length),n=t.slice(e.offset,e.offset+e.length);t=a+'<span class="'.concat(r.join(" "),'">').concat(n,"</span>")+s}return t}{let a="",s=0;for(let n of[...t].sort((e,t)=>e.offset-t.offset))a+=e.slice(s,n.offset),n.correction&&(a+='<span class="'.concat(r.join(" "),'">').concat(n.correction,"</span>")),s=n.offset+n.length;return a+e.slice(s)}},ev=e=>{let{originalText:t,newText:r,originalClasses:a,newClasses:s}=e,n=ep({textToCheck:t,correctedText:r});return eb(t,n)?{shouldUseDiffView:!1,originalHighlighted:t,newHighlighted:r}:{shouldUseDiffView:!0,originalHighlighted:eC(t,n,a,!0),newHighlighted:eC(t,n,s,!1)}};var ej=r(83239);let ey=(e,t)=>{let r=document.createElement("span");r.classList.add(...t),Array.from(e.childNodes).forEach(e=>r.appendChild(e.cloneNode(!0))),e.innerHTML="",e.appendChild(r)},ew=["p","li","h1","h2","h3","h4","h5","h6"],ek=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2?arguments[2]:void 0;ew.includes(e.nodeName.toLowerCase())?(ey(e,r),"p"!==e.nodeName.toLowerCase()||t||e.classList.add("py-0")):e.childNodes.forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&ek(e,!1,r)})},eN=(e,t,r)=>{let a=new DOMParser().parseFromString(e,"text/html");return a.body.childNodes.forEach(e=>{e.nodeType===Node.ELEMENT_NODE&&ek(e,!0,t)}),eS(a.body.innerHTML,r)},eZ=e=>"simplify"===e||"active-voice"===e||"adverb"===e,eS=(e,t)=>eZ(t)&&e.trim().match(/^<p>(.*)<\/p>$/)?e.trim().replace(/^<p>(.*)<\/p>$/,'<span class="inline">$1</span>'):e,eT=["bg-red-200","dark:bg-red-700","text-red-950","dark:text-red-100"],eL=["bg-green-200","dark:bg-green-700","text-green-950","dark:text-green-100"];var eI=e=>{let{originalText:t,correctedText:r,type:a,which:s}=e,n=t&&r?ev({originalText:t,newText:r,originalClasses:eT,newClasses:eL}):null,l=(null==n?void 0:n.shouldUseDiffView)?(0,ej.Qc)("original"===s?n.originalHighlighted:n.newHighlighted):eN((0,ej.Qc)("original"===s&&t||r),"original"===s?eT:eL,a);return(0,d.jsx)("div",{className:(0,es.Z)("[&>:first-child]:mt-0",eZ(a)?"inline":""),dangerouslySetInnerHTML:{__html:eS(l,a)}})},eP=e=>{let{currentGenerationIndex:t,followingText:r,generations:a,isLoading:s,isPromptExperiment:n,onChooseExperimentWinner:l,onSelectNextGeneration:i,onSelectPreviousGeneration:o,precedingText:c,textToCorrect:u,type:x,title:h}=e,m=a[t],g=m&&m.trim().length>0;return(0,d.jsx)("div",{className:"h-full flex flex-col",children:(0,d.jsxs)(ed,{currentGenerationIndex:t,generationsCount:a.length,inputText:u,isPromptExperiment:n,onChooseExperimentWinner:n?l:void 0,onSelectNextGeneration:i,onSelectPreviousGeneration:o,outputText:m,title:h,type:x,children:[s&&!g&&(0,d.jsx)(ec.Z,{className:"font-inter",loadingText:"Loading. This takes a few seconds..."}),g&&(0,d.jsxs)(d.Fragment,{children:[c&&(0,d.jsx)(eu,{text:c}),(0,d.jsx)(eI,{originalText:u,correctedText:m,type:x,which:"ai"}),r&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{children:"\xa0"}),(0,d.jsx)(eu,{text:r})]})]})]})})},eA=e=>{let{userPrompt:t}=e;return(0,d.jsxs)("div",{className:"flex flex-col",children:[(0,d.jsx)("p",{className:"text-xs text-gray-400 dark:text-slate-500",children:"Prompt"}),(0,d.jsx)("p",{className:"text-sm text-gray-500 dark:text-slate-400",children:t})]})};let eE=e=>{switch(e){case"adverb":return R.Z;case"continue-writing":return B.Z;case l["creative-rephrase"]:return _.Z;case l.confident:return F.Z;case l.format:return U.Z;case l.shorten:return W.Z;case l["add-detail"]:return V.Z;case"active-voice":case l.confident:return G.Z;case l.friendly:return Y.Z;case l.casual:return K.Z;case l.formal:return J.Z;case l.persuasive:return q.Z;case l.polish:return Q.Z;default:return $.Z}},eO=e=>{switch(e){case"active-voice":return"Fix passive voice";case"adverb":return"Remove adverbs";case"continue-writing":return"Continue writing";case l["creative-rephrase"]:return"Rephrase creatively";case l.custom:return"Custom rewrite";case"simplify":case"simplify-bulk":return"Simplify";case l.shorten:return"Shorten it";case l["add-detail"]:return"Add detail";case l.confident:return"More confident";case l.casual:return"More casual";case l.formal:return"More professional";case l.format:return"Add headings, bullets, and bolding";case l.friendly:return"More friendly";case l.persuasive:return"More persuasive";case l.polish:return"Polish & clarify"}};var eD=e=>{let{currentGenerationIndex:t,followingText:r,generations:a,generationsAlt:s,isLoading:n,isLoadingAlt:l,onAcceptAIContent:i,onClose:o,onRefresh:c,onSelectNextGeneration:u,onSelectPreviousGeneration:x,precedingText:h,testPrompts:m,textToCorrect:g,title:p,type:f,userPrompt:b}=e,C=!!m,v=!!g;return(0,d.jsx)(I.fC,{open:!0,onOpenChange:()=>null==o?void 0:o(),children:(0,d.jsxs)(I.h_,{children:[(0,d.jsx)(I.aV,{className:"fixed inset-0 max-h-screen bg-black bg-opacity-50 dark:bg-opacity-70 z-10"}),(0,d.jsxs)(I.VY,{className:(0,es.Z)("fixed top-1/2 left-1/2 rounded shadow-2xl bg-white dark:bg-slate-700 dark:text-slate-300 p-4 transform z-20 -translate-x-1/2 -translate-y-1/2","w-full max-h-[90vh]","flex flex-col overflow-hidden",C?"max-w-4xl":"","continue-writing"===f?"max-w-prose":"max-w-[90vw] 2xl:max-w-[100ch]"),children:[(0,d.jsxs)(I.Dx,{className:"flex flex-row justify-between flex-shrink-0",children:[(0,d.jsx)("span",{className:"text-xl font-bold",children:p}),(0,d.jsx)(z.Z,{Icon:eE(f),size:"xs",children:eO(f)})]}),C&&(0,d.jsx)(et.Z,{className:"mt-4 flex-shrink-0",color:"info",title:"Choose which suggestion you prefer",children:(0,d.jsx)("p",{children:"Periodically, we will show you a free extra suggestion. We will only charge you for one of them."})}),(0,d.jsxs)("div",{className:"flex-1 overflow-y-hidden flex flex-col space-y-2 mt-4",children:[b&&(0,d.jsx)(eA,{userPrompt:b}),(0,d.jsxs)("div",{className:(0,es.Z)("flex-1 flex flex-row gap-4 overflow-y-hidden"),children:[v&&(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsxs)(ed,{inputText:g,title:"Original",type:f,children:[h&&(0,d.jsx)(eu,{text:h}),(0,d.jsx)(eI,{originalText:g,correctedText:a[t],type:f,which:"original"}),r&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{children:"\xa0"}),(0,d.jsx)(eu,{text:r})]})]})}),(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsx)(eP,{currentGenerationIndex:t,followingText:r,generations:a,hasTextToCorrect:v,isLoading:n,isPromptExperiment:C,onChooseExperimentWinner:()=>i(null==m?void 0:m[0]),onSelectNextGeneration:u,onSelectPreviousGeneration:x,precedingText:h,textToCorrect:g,title:C&&s?"AI Suggestion 1":"AI Suggestion",type:f})}),C&&s&&(0,d.jsx)("div",{className:"flex-1",children:(0,d.jsx)(eP,{currentGenerationIndex:t,followingText:r,generations:s,hasTextToCorrect:v,isLoading:!!l,isPromptExperiment:C,onChooseExperimentWinner:()=>i(null==m?void 0:m[1]),onSelectNextGeneration:u,onSelectPreviousGeneration:x,precedingText:h,textToCorrect:g,title:"AI Suggestion 2",type:f})})]})]}),(0,d.jsxs)("div",{className:"flex flex-row space-x-2 justify-end mt-4 flex-shrink-0",children:[(0,d.jsx)(I.x8,{asChild:!0,children:(0,d.jsx)(k.Z,{children:"Close"})}),(0,d.jsx)(k.Z,{disabled:n||l,Icon:X.Z,onClick:c,children:"Get another suggestion"}),!C&&(0,d.jsx)(k.Z,{buttonColor:"primary",disabled:n||l,Icon:ee.Z,onClick:()=>i(),children:"Use suggestion"})]})]})]})})},eM=r(41231),eH=r(71126),ez=r(21790);let eR=async e=>{let{generationCount:t,input:r,leftOutput:a,leftPrompt:s,rightOutput:n,rightPrompt:l,session:i,type:o,winningPrompt:d}=e;try{await fetch("/api/editor/comparison",{body:JSON.stringify({input:r,leftOutput:a,leftPrompt:s,rightOutput:n,rightPrompt:l,refreshCount:t,type:o,winningPrompt:d}),method:"POST"}),d===l&&(0,ez.j)({event:"Logged prompt comparison result",properties:{winningPrompt:d},userId:i.user.id})}catch(e){(0,A.H)({email:i.user.email,error:e,userId:i.user.id})}};var eB=e=>{let{apiURL:t,apiBody:r,onAcceptAIContent:a,onClose:s,testPrompts:n,textToCorrect:i,title:o,type:u,...x}=e,h=c.useRef((0,eM.Z)()),[m,g]=c.useState(0),{data:p}=(0,eH.useSession)(),[f,b]=c.useState(null),C=!!n,{isLoading:v,generations:j,handleCloseDialog:y,handleGenerateContent:w,handleRefresh:k}=H({apiBody:r,apiURL:t,setError:b,testPrompt:(null==n?void 0:n[0])||null}),{isLoading:N,generations:Z,handleCloseDialog:S,handleGenerateContent:T,handleRefresh:L}=H({apiBody:r,apiURL:t,isTestComparison:!0,setError:b,testPrompt:(null==n?void 0:n[1])||null});(0,c.useEffect)(()=>{w(),C&&T(),(0,ez.j)({event:"Opened AI content dialog",properties:{aiSessionId:h.current,contentType:u},userId:p.user.id})},[]);let{markStepComplete:I}=(0,E.Z)();(0,c.useEffect)(()=>{let e=(()=>{if("simplify-bulk"!==u&&u!==l["creative-rephrase"]&&Object.values(l).some(e=>e===u))return O.j.toneTools;switch(u){case"simplify":return O.j.sentenceRewriting;case"simplify-bulk":return O.j.bulkRewriting;case l["creative-rephrase"]:return O.j.synonyms;default:return null}})();e&&I(e)},[I,u]);let A=(0,c.useCallback)(()=>{g(e=>Math.max(e+1,j.length)),k(),C&&L(),(0,ez.j)({event:"Refreshed AI content",properties:{aiSessionId:h.current,contentType:u,repeatGenerationCount:j.length},userId:p.user.id})},[j,k,L,C,p,u]),D=(0,c.useCallback)(()=>{(0,ez.j)({event:"Canceled AI content dialog",properties:{aiSessionId:h.current,contentType:u,generationCount:j.length},userId:p.user.id}),y(),C&&S(),g(0),s&&s()},[j,y,S,C,s,p,u]),M=(0,c.useCallback)(e=>{let t=j[m],r=Z[m]||"",s=(null==n?void 0:n[0])||"",l=(null==n?void 0:n[1])||"",o=C&&e&&n&&e===n[1]?r:t;(0,ez.j)({event:"Accepted AI content",properties:{aiSessionId:h.current,contentType:u,generationCount:j.length},userId:p.user.id}),C&&e&&i&&eR({generationCount:j.length,input:i,leftOutput:t,leftPrompt:s,rightOutput:r,rightPrompt:l,session:p,type:u,winningPrompt:e}),a(o)},[m,j,Z,C,a,p,n,i,u]),z=(0,c.useCallback)(()=>{g(e=>Math.max(e-1,0))},[g]),R=(0,c.useCallback)(()=>{g(e=>Math.min(e+1,j.length-1))},[g,j]);return f?(0,d.jsx)(P,{errorResponse:f,onClose:s}):(0,d.jsx)(eD,{currentGenerationIndex:m,generations:j,generationsAlt:Z,isLoading:v,isLoadingAlt:N,onAcceptAIContent:M,onClose:D,onRefresh:A,onSelectNextGeneration:R,onSelectPreviousGeneration:z,testPrompts:n,textToCorrect:i,title:o,type:u,...x})};let e_=e=>{switch(e.subType){case"passive":return"active-voice";case"adverb":return"adverb";default:return"simplify"}},eF=e=>{switch(e.subType){case"passive":return"/api/editor/active-voice";case"adverb":return"/api/editor/adverb";default:return"/api/editor/simplify"}},eU=e=>{switch(e.subType){case"passive":return"Converting to active voice";case"adverb":return"Removing adverbs";default:return"Simplifying sentence"}};var eW=e=>{let{removeSelectedHighlight:t,selectedHighlight:r}=e,a=(0,x.E)(e=>e.editor),{highlightSentence:s,sentenceBefore:n,sentenceAfter:l}=(0,m.oS)(b.fW),{from:i,to:o}=(0,m.oS)(b.R8),u=s.text+s.endingPunctuation,h=(0,c.useMemo)(()=>({prompt:"",sentence:u}),[u]),g=(0,c.useCallback)(e=>{if(!a)throw Error("No editor when applying suggestion");(0,ej.KH)({editor:a,from:i,text:e,to:o+1})},[a,i,o]),p=e_(r);return(0,d.jsx)(eB,{apiURL:eF(r),apiBody:h,followingText:l?l.text+l.endingPunctuation:void 0,onAcceptAIContent:g,onClose:t,precedingText:n?n.text+n.endingPunctuation:void 0,textToCorrect:u,title:eU(r),type:p})},eV=r(45677),eG=r(43630);let eY=e=>{let{customerDetails:t}=e,r=!!t;return(0,d.jsxs)("div",{className:"space-y-2",children:[(0,d.jsxs)(N.Z,{className:"drop-shadow-glow flex flex-row space-x-1 items-center",children:[(0,d.jsx)(L.Z,{className:"h-4 w-4",size:12}),(0,d.jsx)("span",{children:"Fix your sentence with AI"})]}),(0,d.jsx)("p",{children:"Hemingway Editor Plus corrects highlights instantly."}),(0,d.jsx)("a",{className:"block text-sm",href:r?"/billing":"/hemingway-editor-plus",target:"_blank",children:(0,d.jsx)(k.Z,{buttonColor:"primary",buttonSize:"sm",EndIcon:S.Z,children:r?"Upgrade plan":"Learn more"})}),r&&(0,d.jsx)("p",{className:"text-sm text-gray-700 dark:text-slate-300 max-w-prose",children:eK(t.status)})]})},eK=e=>{switch(e){case eG.WE.Customer:return"You have hit your monthly limit of AI generations. Upgrade your plan to continue using AI, or wait until your month-long billing period resets.";case eG.WE.ExpiredTrial:return"Your trial has expired. Upgrade your plan to continue using AI.";case eG.WE.FormerCustomer:return"Your subscription has ended. Upgrade your plan to continue using AI.";case eG.WE.Trial:default:throw Error("Tried to show AI Fix It button upgrade help text to a customer still on a trial.")}};var eJ=e=>{let{handleFixItClick:t,selectedHighlight:r}=e,a=(null==r?void 0:r.subType)===y.Co.hard||(null==r?void 0:r.subType)===y.Co.veryHard?"Simplify it for me":"Fix it for me";return(0,d.jsx)(d.Fragment,{children:(0,d.jsx)(eV.Z,{fallbackElement:e=>(0,d.jsx)(eY,{customerDetails:e}),requireAbilityToUseAI:!0,children:(0,d.jsx)(k.Z,{buttonColor:"primary",buttonSize:"sm",Icon:L.Z,onClick:t,children:a})})})},eq=e=>{let{selectedHighlight:t,isDemo:r}=e,{data:a}=(0,eH.useSession)(),s=(0,m.oS)(e=>e.grammarIssues),{from:n,to:l}=(0,m.oS)(b.oj),i=(0,x.E)(e=>e.editor),o=(0,w.p)(e=>e.incrementAcceptedCorrections),{blockId:u}=(0,el.KW)(t.id),h=t.text,g=(()=>{let e=s[u];if(!e)return"";let r=e.replacements.find(e=>e.offset===t.offsetInBlock);return(null==r?void 0:r.correction)||""})(),p=0===g.length,f=(0,c.useCallback)(()=>{if(!i)throw Error("No editor when applying suggestion");let e=i.chain().deleteRange({from:n,to:l});p||e.insertContentAt(n,g),e.focus().run(),r&&o(),a&&(0,ez.j)({event:"Accepted AI content",properties:{contentType:"grammar"},userId:a.user.id})},[g,i,n,o,r,p,a,l]);return(0,d.jsx)(k.Z,{buttonColor:"primary",buttonSize:"sm",buttonVariant:"outline",onClick:f,children:(0,d.jsxs)("div",{className:"space-x-1 flex flex-row whitespace-normal",children:[(0,d.jsx)("span",{className:"text-red-600 dark:text-red-400 line-through",children:h}),!p&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"text-green-600 dark:text-green-400",children:"â†’"}),(0,d.jsx)("span",{className:"text-green-600 dark:text-green-400",children:g})]})]})})},eQ=r(43999),e$=r(16701),eX=e=>{let{selectedHighlight:t}=e,r=(0,x.E)(e=>e.editor),{from:a,to:s}=(0,m.oS)(b.oj),n=(0,c.useMemo)(()=>{if("complex"===t.subType){let e=eQ.Z[t.text.toLowerCase()]||[];if(e.length>0){let r=t.text[0]===t.text[0].toUpperCase();return e.map(e=>"omit"===e?{type:"omit"}:{type:"replace",replacement:r?(0,e$.kC)(e):e})}}return[{type:"omit"}]},[t]),l=(0,c.useCallback)(e=>{if(!r)throw Error("No editor when applying suggestion");let n=e||!t.trailingSpace?s:s+1,l=r.chain().deleteRange({from:a,to:n});e&&l.insertContentAt(a,e),l.focus().run()},[r,a,s,t.trailingSpace]);return(0,d.jsx)(d.Fragment,{children:n.map((e,t)=>"omit"===e.type?(0,d.jsx)(k.Z,{buttonColor:"primary",buttonSize:"sm",onClick:()=>l(),children:"Remove"},"omit"):(0,d.jsx)(k.Z,{buttonColor:0===t?"primary":"secondary",buttonSize:"sm",onClick:()=>l(e.replacement),children:e.replacement},e.replacement))})};let e0=["adverb","passive",y.Co.hard,y.Co.veryHard],e1=e=>e.selectedHighlight,e2=e=>e.removeSelectedHighlight,e4=e=>{let{editor:t,isDemo:r,selectedHighlight:a,removeSelectedHighlight:s,isAtFreeGrammarCheckLimit:n}=e,[l,i]=c.useState(!1),o=(0,c.useCallback)(()=>{a&&(s(),(0,h.Z)(t.view))},[t.view,a,s]),u=(0,c.useCallback)(e=>{e.stopPropagation(),e.preventDefault(),i(!0)},[]);if(!a)return null;let x=e0.includes(a.subType),m="grammar"===a.subType;return n&&r?(0,d.jsxs)("div",{className:"space-y-2 text-center",children:[(0,d.jsx)(N.Z,{className:"text-center",children:"Start a free trial for more fixes"}),(0,d.jsx)("p",{className:"text-sm",children:"2-week free trial. No credit card required."}),(0,d.jsx)("a",{className:"flex flex-row justify-center",href:"/hemingway-editor-plus",target:"_blank",children:(0,d.jsx)(k.Z,{buttonColor:"primary",buttonSize:"sm",EndIcon:S.Z,children:"Learn more"})})]}):(0,d.jsxs)("div",{className:"space-y-4",children:[(0,d.jsxs)("div",{className:"flex flex-row justify-between",children:[(0,d.jsx)(Z.Z,{children:(0,d.jsx)("div",{className:"flex flex-row items-center",children:e6(a.subType)})}),(0,d.jsx)(k.Z,{buttonSize:"sm",onClick:o,Icon:T.Z})]}),(0,d.jsx)("p",{className:"text-sm italic text-gray-700 dark:text-slate-300",children:e8(a.subType)}),m&&(0,d.jsx)(eq,{selectedHighlight:a,isDemo:r}),(0,d.jsxs)("div",{className:"flex flex-row space-x-1",children:[x&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(eJ,{handleFixItClick:u,selectedHighlight:a}),l&&(0,d.jsx)(eW,{removeSelectedHighlight:o,selectedHighlight:a})]}),!(x||m)&&(0,d.jsx)(eX,{selectedHighlight:a})]})]})},e6=e=>{switch(e){case"adverb":return"Adverb";case"grammar":return"Spelling or grammar issue";case"qualifier":return"Qualifier";case"passive":return"Passive voice";case"complex":return"Word with simpler synonym";case y.Co.hard:case y.Co.veryHard:default:return"Readability issue"}},e8=e=>{switch(e){case"adverb":return'Use a forceful verb instead. "He ran quickly" becomes "He sprinted."';case"grammar":return(0,d.jsx)(d.Fragment,{children:(0,d.jsxs)("span",{className:"space-x-1 inline-flex flex-row items-baseline mr-2",children:[(0,d.jsx)(L.Z,{size:12}),(0,d.jsx)("span",{children:"Our AI detected an issue to fix."})]})});case"qualifier":return'Be bold. Don\'t hedge. "I think we should..." becomes "We should..."';case"passive":return'Use active voice. "The cat was chased by the dog" becomes "The dog chased the cat."';case"complex":return"Use simpler alternatives or remove.";case y.Co.hard:case y.Co.veryHard:default:return"This sentence is too long and complex. Use shorter sentences and simpler words."}};var e7=e=>{let{editor:t,isDemo:r}=e,a=(0,m.oS)(e1),s=(0,m.oS)(e2),n=(0,w.p)(e=>e.isAtFreeGrammarCheckLimit);return(0,d.jsx)(e4,{editor:t,selectedHighlight:a,removeSelectedHighlight:s,isAtFreeGrammarCheckLimit:n,isDemo:r})},e9=e=>{let{ref:t,options:r={},resetValue:a}=e,[s,n]=(0,c.useState)(!0);return(0,c.useEffect)(()=>{let e=t.current;if(!e)return;let a=new IntersectionObserver(e=>{let[t]=e;n(t.isIntersecting)},r);return a.observe(e),()=>{e&&a.unobserve(e),a.disconnect()}},[t,r,a]),s},e3=e=>{let{editor:t,isDemo:r}=e,{data:a}=(0,eH.useSession)(),s=(0,m.oS)(e=>e.selectedHighlight),n=(0,m.oS)(e=>e.removeSelectedHighlight),l=!!s,{x:i,y:o,width:u,height:x}=j({editor:t,isHighlight:l}),h=(0,m.s0)(),g=(0,c.useRef)(null),p=e9({ref:g,options:(0,c.useMemo)(()=>({root:h.current,rootMargin:"0px",threshold:[0,.5,1]}),[h]),resetValue:null==s?void 0:s.id})&&l,b=(0,c.useCallback)(e=>{e||n(),(null==s?void 0:s.subType)==="grammar"&&(e?(0,ez.j)({event:"Opened AI content dialog",properties:{contentType:"grammar"},userId:a.user.id}):(0,ez.j)({event:"Canceled AI content dialog",properties:{contentType:"grammar"},userId:a.user.id}))},[n,a,s]);return(0,d.jsxs)(f.fC,{open:p,onOpenChange:b,children:[(0,d.jsx)(f.ee,{className:"absolute pointer-events-none",ref:g,style:{left:i,top:o,width:u,height:x},children:"\xa0"}),(0,d.jsxs)(f.VY,{collisionBoundary:t.options.element,collisionPadding:{top:220},className:(0,es.Z)("shadow-xl border border-gray-200 dark:border-slate-600 bg-gray-100 dark:bg-slate-700 dark:text-slate-300 rounded w-96 p-2 origin-top data-[state=open]:animate-scale-in"),onOpenAutoFocus:e=>e.preventDefault(),onEscapeKeyDown:e=>{e.preventDefault(),n()},onKeyDown:e=>{"Enter"===e.key&&(e.stopPropagation(),e.preventDefault())},side:"top",sideOffset:8,children:[(0,d.jsx)(e7,{editor:t,isDemo:r}),(0,d.jsx)(f.Eh,{className:"fill-gray-100 dark:fill-slate-700 w-3 h-2"})]})]})},e5=r(73152),te=r(10657),tt=r(7146),tr=r(17829),ta=r(32690),ts=r(35226),tn=r(81288);(s=i||(i={})).Paragraph="Paragraph",s["Heading 1"]="Heading 1",s["Heading 2"]="Heading 2",s["Heading 3"]="Heading 3",s["Bulleted List"]="Bulleted List",s["Numbered List"]="Numbered List",s.Quote="Quote";var tl=e=>(0,c.useCallback)(()=>e.isActive("heading",{level:1})?"Heading 1":e.isActive("heading",{level:2})?"Heading 2":e.isActive("heading",{level:3})?"Heading 3":e.isActive("blockquote")?"Quote":e.isActive("bulletList")?"Bulleted List":e.isActive("orderedList")?"Numbered List":"Paragraph",[e]),ti=(e,t)=>(0,c.useCallback)(r=>{if(r===t)return;let a=e.chain().focus();switch(a.clearNodes(),r){case i["Heading 1"]:a.toggleHeading({level:1});break;case i["Heading 2"]:a.toggleHeading({level:2});break;case i["Heading 3"]:a.toggleHeading({level:3});break;case i["Bulleted List"]:a.toggleBulletList();break;case i["Numbered List"]:a.toggleOrderedList();break;case i.Quote:a.toggleBlockquote();break;case i.Paragraph:default:a.setParagraph()}a.run()},[t,e]),to=r(65073);let td=e=>{let{proBadgeText:t,onSelect:r}=e;return(0,d.jsxs)(e5.ck,{className:"flex flex-row space-x-4 px-2 py-1 group items-center text-sm data-[highlighted]:bg-blue-200 dark:data-[highlighted]:bg-blue-700 dark:text-slate-300 outline-none cursor-pointer rounded-sm",onSelect:r,children:[(0,d.jsx)(L.Z,{className:tx}),(0,d.jsx)("span",{children:"Continue writing..."}),t&&(0,d.jsx)(z.Z,{color:"primary",size:"sm",children:t})]})};var tc=e=>{let{handleOpenContinueWritingDialog:t}=e;return(0,d.jsx)(eV.Z,{fallbackElement:e=>(0,d.jsx)(td,{onSelect:()=>window.open(e?"/billing":"/hemingway-editor-plus","_blank"),proBadgeText:(null==e?void 0:e.status)===eG.WE.Customer?"Upgrade":"Pro"}),requireAbilityToUseAI:!0,children:(0,d.jsx)(td,{onSelect:t})})};let tu=(e,t)=>{e.chain().deleteRange({from:t.from-1,to:t.from}).focus().run()},tx="w-4 opacity-40 group-data-[highlighted]:opacity-100 group-data-[highlighted]:text-blue-500 group-data-[highlighted]:dark:text-sky-400",th=e=>{let{blockType:t}=e;switch(t){case i["Bulleted List"]:return(0,d.jsx)(U.Z,{className:tx});case i["Numbered List"]:return(0,d.jsx)(te.Z,{className:tx});case i["Heading 1"]:return(0,d.jsx)(tt.Z,{className:tx});case i["Heading 2"]:return(0,d.jsx)(tr.Z,{className:tx});case i["Heading 3"]:return(0,d.jsx)(ta.Z,{className:tx});case i.Quote:return(0,d.jsx)(ts.Z,{className:tx});case i.Paragraph:default:return(0,d.jsx)(tn.Z,{className:tx})}};var tm=e=>{let{editor:t}=e,[r,a]=c.useState(!1),{data:s}=(0,eH.useSession)(),n=(0,to.E)(e=>e.showContinueWritingDialog),l=tl(t)(),o=ti(t,l),u=c.useCallback(e=>{e&&(null==s?void 0:s.user.id)&&(0,ez.j)({event:"Opened slash menu",userId:s.user.id}),a(e)},[a,s]),{x,y:h,width:m,height:g}=j({editor:t}),p=t.view.state.selection;(0,c.useEffect)(()=>{let{from:e,to:t,empty:r}=p;if(r&&e===t){let e=(0,C.Kk)(e=>!0)(p);e&&(0,C.Q)(e.node).endsWith("/")&&u(!0)}},[t,p,u]);let f=c.useCallback(e=>{u(e),e||t.chain().focus().run()},[u,t]),b=c.useCallback(e=>{tu(t,p),o(e),(null==s?void 0:s.user.id)&&(0,ez.j)({event:"Changed block type",properties:{blockType:e,uiLocation:"slashMenu"},userId:s.user.id})},[t,p,s,o]),v=c.useCallback(()=>{tu(t,p),u(!1),n()},[u,n,t,p]);return(0,d.jsxs)(e5.fC,{open:r,onOpenChange:f,children:[(0,d.jsx)("div",{className:(0,es.Z)("absolute pointer-events-none",!r&&"hidden"),style:{left:x,top:h,width:m,height:g},children:(0,d.jsx)(e5.xz,{children:"\xa0"})}),(0,d.jsx)(e5.Uv,{children:(0,d.jsx)(e5.VY,{"aria-label":"Floating menu",collisionBoundary:t.view.dom,collisionPadding:{top:220},className:(0,es.Z)("bg-white dark:bg-slate-700 border border-gray-200 dark:border-gray-700 dark:text-slate-300 rounded shadow-xl py-2 px-1 font-inter space-y-0.5","origin-top data-[state=open]:animate-scale-in","data-[side=bottom]:mt-1"),onKeyDown:e=>{("Delete"===e.key||"Backspace"===e.key)&&f(!1)},side:"bottom",children:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(e5.__,{className:"text-sm text-gray-600 dark:text-slate-400",children:"Hemingway AI"}),(0,d.jsx)(tc,{handleOpenContinueWritingDialog:v}),(0,d.jsx)(e5.Z0,{className:"border-t border-gray-200 dark:border-slate-700"}),(0,d.jsx)(e5.__,{className:"text-sm text-gray-600 dark:text-slate-400",children:"Headings"}),Object.values(i).map(e=>(0,d.jsxs)(e5.oC,{checked:e===l,disabled:e===l,className:"flex flex-row space-x-4 px-2 py-1 group items-center text-sm data-[highlighted]:bg-blue-200 dark:data-[highlighted]:bg-blue-700 dark:text-slate-300 data-[disabled]:bg-white data-[disabled]:text-slate-500 dark:data-[disabled]:bg-slate-700 dark:data-[disabled]:text-slate-500 outline-none cursor-pointer rounded-sm",onSelect:t=>b(e),textValue:e,children:[(0,d.jsx)(e5.wU,{children:(0,d.jsx)(ee.Z,{className:"w-4"})}),(0,d.jsx)("span",{className:"group-data-[disabled]:hidden",children:(0,d.jsx)(th,{blockType:e})}),(0,d.jsx)("span",{children:e})]},e))]})})})]})},tg=r(23168),tp=r(57355),tf=r(51966);let tb=e=>{let{blockType:t,isDemo:r}=e;switch(t){case i["Heading 1"]:return(0,d.jsx)("h1",{children:"Heading 1"});case i["Heading 2"]:return(0,d.jsx)("h2",{children:"Heading 2"});case i["Heading 3"]:return(0,d.jsx)("h3",{children:"Heading 3"});case i.Quote:return(0,d.jsx)("blockquote",{className:"border-none",children:"Quote"});case i["Bulleted List"]:return(0,d.jsx)("p",{children:"Bulleted List"});case i["Numbered List"]:return(0,d.jsx)("p",{children:"Numbered List"});default:if(r)return null;return(0,d.jsx)("p",{children:"Press '/' for AI and formatting..."})}};var tC=e=>{let{editor:t,isDemo:r}=e,a=tl(t),s=j({editor:t}),{isEmptyBlock:n,isInitialEmptyBlock:l}=(0,tp.Z)(t.state.selection);if(!n)return null;let o=a();return(0,d.jsxs)("div",{className:(0,es.Z)(tg.L,"overflow-visible","absolute pointer-events-none","text-gray-500 dark:text-slate-500 prose-headings:text-gray-500 prose-headings:dark:text-slate-500"),style:{left:s.x+2,top:s.y-(o===i["Heading 1"]?-2:2)},children:[l&&(0,d.jsx)(tf.Z,{editor:t,isDemo:r}),!l&&(0,d.jsx)(tb,{blockType:o,isDemo:r})]})},tv=()=>{let e=(0,x.E)(e=>e.editor),t=null==e?void 0:e.state.selection.from,r=null==e?void 0:e.state.selection.to,a=(0,c.useMemo)(()=>e&&void 0!==t&&void 0!==r?{document:(0,ej.fQ)({editor:e,from:Math.max(0,t-1e3),to:r})}:{document:""},[e,t,r]),s=(0,to.E)(e=>e.isShowingContinueWritingDialog),n=(0,to.E)(e=>e.hideContinueWritingDialog),l=(0,c.useCallback)(t=>{e&&void 0!==r&&(n(),(0,ej.KH)({editor:e,from:r,text:t,to:r}))},[e,n,r]);return s?(0,d.jsx)(eB,{apiURL:"/api/editor/continue",apiBody:a,onAcceptAIContent:l,onClose:n,precedingText:a.document,title:"AI Writing Assistant",type:"continue-writing"}):null},tj=r(15438),ty=r(41754),tw=r(99584),tk=r(61665);let tN=Object.values(i).map(e=>({label:e,value:e}));var tZ=e=>{let{editor:t}=e,r=tl(t)(),a=ti(t,r),{data:s}=(0,eH.useSession)(),n=(0,c.useCallback)(e=>{a(e),(null==s?void 0:s.user.id)&&(0,ez.j)({event:"Changed block type",properties:{blockType:e,uiLocation:"toolbar"},userId:s.user.id})},[a,s]);return(0,d.jsx)(tk.Z,{id:"block-type-select",onValueChange:n,options:tN,useInToolbar:!0,value:r})},tS=r(70888),tT=r(32880),tL=e=>{let{children:t,disabled:r,isToggleItem:a,label:s,shortcutKey:n,tooltip:l,toolbarLocation:i,...o}=e,{data:u}=(0,eH.useSession)(),x=(0,c.useCallback)(()=>{(null==u?void 0:u.user.id)&&(0,ez.j)({event:"Clicked toolbar button",properties:{buttonType:s,toolbarLocation:i},userId:u.user.id})},[s,u,i]),h=(0,c.useMemo)(()=>a?ty.HP:ty.zx,[a]);return(0,d.jsxs)(tw.fC,{children:[(0,d.jsx)(tw.xz,{asChild:!0,children:(0,d.jsx)("div",{children:(0,d.jsx)(h,{className:"data-[state=off]:opacity-50",disabled:r,...o,asChild:!0,children:(0,d.jsx)(k.Z,{buttonColor:"secondary",buttonVariant:"ghost",buttonSize:"sm",disabled:r,children:(0,d.jsx)("div",{onClick:x,children:t})})})})}),(0,d.jsx)(tw.h_,{children:(0,d.jsxs)(tw.VY,{className:"flex flex-row space-x-2 bg-white dark:bg-slate-600 dark:text-slate-300 shadow-lg p-2 text-sm items-baseline border border-gray-300 dark:border-gray-500 rounded z-20 max-w-[300px]",children:[l?(0,d.jsx)("span",{children:l}):(0,d.jsxs)(d.Fragment,{children:[!n&&(0,d.jsx)("span",{children:s}),n&&(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("strong",{children:s}),(0,d.jsx)("kbd",{className:"bg-gray-100 dark:bg-slate-500 dark:text-slate-300 rounded shadow-inner text-xs font-inter p-1",children:"Cmd/Ctrl + ".concat(n)})]})]}),(0,d.jsx)(tw.Eh,{className:"fill-gray-400"})]})})]})},tI=r(17931),tP=r(47578),tA=e=>{var t;let{children:r,editor:a,hasLinkAtCursor:s,setShowDialog:n,showDialog:l}=e,[i,o]=c.useState(""),u=null===(t=a.getAttributes("link"))||void 0===t?void 0:t.href;(0,c.useEffect)(()=>{s&&u&&o(u)},[u,s,l]);let x=(0,c.useCallback)(()=>{o(""),n(!1)},[n,o]),h=(0,c.useCallback)(()=>{a.chain().focus().unsetLink().run(),x()},[a,x]),m=(0,c.useCallback)(()=>{a.chain().focus().setLink({href:i}).run(),x()},[a,i,x]),g=(0,c.useCallback)(e=>{e?(o(""),n(!0)):x()},[x,n]),p=s?"Update":"Set";return(0,d.jsxs)(I.fC,{open:l,onOpenChange:g,children:[(0,d.jsx)(I.xz,{asChild:!0,children:(0,d.jsx)("div",{className:"appearance-none",children:r})}),(0,d.jsxs)(I.h_,{children:[(0,d.jsx)(I.aV,{className:"fixed inset-0 bg-black bg-opacity-40"}),(0,d.jsxs)(I.VY,{className:"fixed top-[50%] left-[50%] w-96 translate-x-[-50%] translate-y-[-50%] focus:outline-none bg-white  dark:bg-slate-800 rounded-lg shadow-2xl p-4 space-y-4",children:[(0,d.jsxs)(I.Dx,{className:"text-lg font-bold text-gray-900 dark:text-slate-300",children:[p," Link"]}),(0,d.jsxs)(I.dk,{className:"text-sm text-gray-700 dark:text-slate-400",children:[p," the link for the selected text."]}),(0,d.jsx)(tP.Z,{autoFocus:!0,autoComplete:"off",label:"Link URL",name:"link-url",onChange:e=>o(e.target.value),type:"url",value:i}),(0,d.jsxs)("div",{className:"flex flex-row justify-end mt-4 space-x-1",children:[s&&(0,d.jsx)(k.Z,{onClick:h,children:"Remove Link"}),!s&&(0,d.jsx)(k.Z,{onClick:()=>x(),children:"Cancel"}),(0,d.jsx)(k.Z,{buttonColor:"primary",disabled:!i.trim(),onClick:m,children:"Save Link"})]}),(0,d.jsx)(I.x8,{asChild:!0,children:(0,d.jsx)("button",{className:"hover:bg-gray-100 hover:dark:bg-slate-300 text-gray-700 dark:text-slate-300 hover:text-gray-800 hover:dark:text-slate-600 absolute top-[0px] p-1 right-[10px] inline-flex appearance-none items-center justify-center rounded-full focus:shadow-sm focus:outline-none","aria-label":"Close",children:(0,d.jsx)(T.Z,{size:15,stroke:1.5})})})]})]})]})},tE=e=>{let{editor:t,hasLinkAtCursor:r}=e,[a,s]=c.useState(!1),n=c.useCallback(()=>{a||s(!0)},[a]);return(0,c.useEffect)(()=>{let e=e=>{"k"===e.key&&e.metaKey&&(e.preventDefault(),n())};return document.addEventListener("keydown",e),()=>{document.removeEventListener("keydown",e)}},[t.view.dom,n]),(0,d.jsx)(tA,{editor:t,hasLinkAtCursor:r,setShowDialog:s,showDialog:a,children:(0,d.jsx)(tL,{"aria-label":"Link",isToggleItem:!0,label:"Link",onClick:n,shortcutKey:"K",toolbarLocation:"top",value:o.link,children:(0,d.jsx)(tI.Z,{size:15,stroke:1.5})})})};(n=o||(o={})).bold="bold",n.italic="italic",n.link="link";var tO=e=>{let{editor:t}=e,r=(0,c.useCallback)(()=>{t.chain().focus().toggleBold().run()},[t]),a=(0,c.useCallback)(()=>{t.chain().focus().toggleItalic().run()},[t]),s=t.isActive("link"),n=[...t.isActive("bold")?["bold"]:[],...t.isActive("italic")?["italic"]:[],...s?["link"]:[]];return(0,d.jsxs)(ty.tX,{"aria-label":"Inline formatting options",className:"flex flex-row space-x-1 items-center",type:"multiple",value:n,children:[(0,d.jsx)(tL,{"aria-label":"Bold",isToggleItem:!0,label:"Bold",onClick:r,shortcutKey:"B",toolbarLocation:"top",value:"bold",children:(0,d.jsx)(tS.Z,{size:15,stroke:1.5})}),(0,d.jsx)(tL,{"aria-label":"Italic",isToggleItem:!0,label:"Italic",onClick:a,shortcutKey:"I",toolbarLocation:"top",value:"italic",children:(0,d.jsx)(tT.Z,{size:15,stroke:1.5})}),(0,d.jsx)(tE,{editor:t,hasLinkAtCursor:s})]})};let tD="Use AI to fix grammar and spelling issues.",tM=e=>{let{customerDetails:t}=e;return(0,d.jsx)("a",{href:t?"/billing":"/hemingway-editor-plus",target:"_blank",children:(0,d.jsx)(tL,{"aria-label":"".concat(tD," Click this button to learn more and try it free."),label:"".concat(tD," Click this button to learn more and try it free."),toolbarLocation:"top",value:"grammar-upsell",children:(0,d.jsxs)("span",{className:"flex flex-row space-x-1 items-center",children:[(0,d.jsx)(L.Z,{size:15,stroke:1.5}),(0,d.jsx)("span",{children:"Fix Grammar"}),(0,d.jsx)(z.Z,{color:"primary",size:"xs",children:"Plus"})]})})})};var tH=()=>(0,d.jsx)(eV.Z,{fallbackElement:e=>(0,d.jsx)(tM,{customerDetails:e}),requireAbilityToUseGrammar:!0,children:(0,d.jsx)(d.Fragment,{})}),tz=r(93315);let tR=e=>"getSections"in e&&"loadingOptionsToShow"in e,tB=e=>{let{children:t,disabled:r,onClick:a,Icon:s}=e;return(0,d.jsx)("div",{className:"px-3 flex flex-row justify-between space-x-1",children:(0,d.jsx)(e5.ck,{asChild:!0,onSelect:a,children:(0,d.jsx)(k.Z,{buttonSize:"sm",buttonVariant:"ghost",className:"text-wrap text-left",disabled:r,Icon:s,children:t})})})},t_=()=>(0,d.jsx)(e5.Z0,{className:"border-t border-t-gray-200 dark:border-t-slate-500"}),tF=e=>{let{children:t}=e;return(0,d.jsx)(Z.Z,{className:"px-3 uppercase",textColorClassName:"text-gray-400 dark:text-slate-300",textSizeClassName:"text-xs",textWeightClassName:"font-medium",children:t})};var tU=e=>{let t;let{contentAbove:r,onOpenChange:a,onSelectItem:s,triggerButton:n,useInToolbar:l,...i}=e,[o,u]=(0,c.useState)(tR(e)?[]:e.sections),[x,h]=(0,c.useState)(!1),[m,g]=(0,c.useState)(!1),[p,f]=(0,c.useState)(!1);if(tR(e)){let{getSections:e,loadingOptionsToShow:r,...a}=i;t=a}else{let{sections:e,...r}=i;t=r}let b=(0,c.useCallback)(async()=>{if(tR(e)){g(!0),f(!1);try{let t=await e.getSections();if(0===t.length)throw Error("No sections returned from server");u(t)}catch(e){f(!0)}finally{g(!1)}}},[e]);(0,c.useEffect)(()=>{tR(e)&&0===o.length&&x&&!m&&!p&&b()},[e,o,x,m,p,b]),(0,c.useEffect)(()=>{tR(e)||u(e.sections)},[e]);let C=(0,c.useCallback)(e=>()=>{s(e),h(!1)},[s,h]),v=(0,c.useCallback)(e=>{null==a||a(e),h(e)},[a,h]),j=(0,d.jsx)(e5.xz,{asChild:!0,children:n});return(0,d.jsxs)(e5.fC,{open:x,onOpenChange:v,children:[l?(0,d.jsx)(ty.zx,{asChild:!0,...t,children:j}):j,(0,d.jsx)(e5.Uv,{children:(0,d.jsxs)(e5.VY,{className:"z-20 bg-white dark:bg-slate-600 border border-gray-300 dark:border-slate-500 dark:text-slate-300 rounded shadow py-2 font-inter space-y-2 flex flex-col max-w-96 origin-[var(--radix-dropdown-menu-content-transform-origin)] data-[state=open]:animate-scale-in data-[state=closed]:animate-scale-out data-[side=bottom]:mt-2",children:[r,(0,d.jsxs)("div",{className:"space-y-2 flex flex-col",children:[m&&tR(e)&&(0,d.jsx)("div",{className:"flex flex-col space-y-3",children:Array.from({length:e.loadingOptionsToShow}).map((e,t)=>(0,d.jsx)("div",{className:"rounded-sm h-6 w-36 animate-pulse bg-gray-100 dark:bg-slate-500 mx-2"},t))}),p&&(0,d.jsxs)("div",{className:"px-3 py-2 text-red-600 dark:text-red-400",children:[(0,d.jsx)("p",{children:"Something went wrong."}),(0,d.jsx)(k.Z,{buttonSize:"sm",buttonColor:"primary",disabled:m,onClick:b,className:"mt-2",children:"Try Again"})]}),!m&&!p&&o.map((e,t)=>(0,d.jsxs)("div",{className:"space-y-2 flex flex-col",children:[e.label&&(0,d.jsx)(tF,{children:e.label}),e.options.map(e=>(0,d.jsx)(tB,{disabled:e.disabled,onClick:C(e.key),Icon:e.Icon,children:e.label},e.key)),t<o.length-1&&(0,d.jsx)(t_,{})]},e.key))]}),(0,d.jsx)(e5.Eh,{className:"fill-gray-300 dark:fill-slate-400"})]})})]})},tW=e=>{let{disabled:t,handleShowDialog:r,isInFloatingToolbar:a=!1,...s}=e,{data:n}=(0,eH.useSession)(),i=(0,c.useCallback)(e=>{(null==n?void 0:n.user.id)&&(0,ez.j)({event:"Clicked toolbar button",properties:{buttonType:e,toolbarLocation:a?"floating":"top"},userId:n.user.id}),r(e)},[r,a,n]),o=[...a?[]:[{key:"fix",label:"Fix",options:[{disabled:t,Icon:$.Z,key:"simplify-bulk",label:"Simplify"},{disabled:t,Icon:Q.Z,key:l.polish,label:(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)("span",{className:"mr-2",children:"Polish and clarify"}),(0,d.jsx)(z.Z,{size:"xs",children:"Beta"})]})}]},{key:"rephrase",label:"Rephrase",options:[{disabled:t,Icon:_.Z,key:l["creative-rephrase"],label:"Creative rephrase"}]}],{key:"skimmable",label:"Make skimmable",options:[{disabled:t,Icon:U.Z,key:l.format,label:"Add headings, bullets, and bolding"}]},{key:"length",label:"Length",options:[{disabled:t,Icon:W.Z,key:l.shorten,label:"Shorten it"},{disabled:t,Icon:V.Z,key:l["add-detail"],label:"Add detail"}]},{key:"tone",label:"Tone",options:[{disabled:t,Icon:G.Z,key:l.confident,label:"More confident"},{disabled:t,Icon:Y.Z,key:l.friendly,label:"More friendly"},{disabled:t,Icon:K.Z,key:l.casual,label:"More casual"},{disabled:t,Icon:J.Z,key:l.formal,label:"More professional"},{disabled:t,Icon:q.Z,key:l.persuasive,label:"More persuasive"}]}];return(0,d.jsx)(tU,{contentAbove:t?(0,d.jsx)("div",{className:"px-2",children:(0,d.jsx)(et.Z,{color:"error",title:"Highlight more text to use the AI tools"})}):void 0,onSelectItem:e=>i(e),sections:o,triggerButton:(0,d.jsx)(k.Z,{buttonColor:a?"secondary":"primary",buttonSize:"sm",buttonVariant:"ghost",Icon:a?void 0:L.Z,EndIcon:tz.Z,children:(0,d.jsx)("span",{children:a?"More":"AI tools"})}),useInToolbar:!0})},tV=e=>{let{editorState:t}=e,r=(0,m.oS)(e=>e.blockMap),a=(0,m.oS)(e=>e.blockPositions);return(0,c.useMemo)(()=>{let{selection:e}=t,{from:s,to:n,empty:l}=e;if(l)return{canShowAiTools:!1,canShowSynonyms:!1};let i=t.doc.textBetween(s,n,"\n\n"),o=(0,el.Py)({blockId:"unused here",textContent:i}),d=(0,b.NT)({blockMap:r,blockPositions:a,from:s,to:n}),c=o.stats.words>2e3,u=o.stats.words>=10||d;return{canShowAiTools:!c&&u,canShowSynonyms:!u}},[r,a,t])};let tG="Use AI to rewrite text you highlight to fix issues or to adjust tone and length.",tY=e=>{let{customerDetails:t}=e;return(0,d.jsx)("a",{href:t?"/billing":"/hemingway-editor-plus",target:"_blank",children:(0,d.jsx)(tL,{"aria-label":"".concat(tG," Click this button to learn more and try it free."),label:"".concat(tG," Click this button to learn more and try it free."),toolbarLocation:"top",value:"improve-upsell",children:(0,d.jsxs)("span",{className:"flex flex-row space-x-1 items-center",children:[(0,d.jsx)(L.Z,{size:15,stroke:1.5}),(0,d.jsx)("span",{children:"Rewrite"}),(0,d.jsx)(z.Z,{color:"primary",size:"xs",children:"Plus"})]})})})};var tK=e=>{let{editor:t}=e,r=(0,to.E)(e=>e.rewriteDialogType),a=(0,to.E)(e=>e.showRewriteDialog),s=null!==r,{state:n}=t.view,{canShowAiTools:l}=tV({editorState:n}),i=c.useCallback(e=>{l&&!s&&a(e)},[l,s,a]);return(0,d.jsx)(eV.Z,{fallbackElement:e=>(0,d.jsx)(tY,{customerDetails:e}),requireAbilityToUseAI:!0,children:(0,d.jsx)(tW,{"aria-label":tG,disabled:!l,handleShowDialog:i,value:"improve",children:(0,d.jsxs)("span",{className:"flex flex-row space-x-2 items-center",children:[(0,d.jsx)(L.Z,{size:15,stroke:1.5}),(0,d.jsxs)("span",{className:"flex flex-row items-center space-x-1",children:["Rewrite ",(0,d.jsx)(tz.Z,{className:"w-3 h-3",size:10})]})]})})})},tJ=e=>{let{editor:t}=e;return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(tH,{}),(0,d.jsx)(tK,{editor:t})]})},tq=r(29465),tQ=r(24292),t$=r(41630),tX=r(77465),t0=r(11739),t1=r(50781),t2=r(54917);let t4="numbered-list";async function t6(e){let{creator:t,htmlString:r}=e,a=new DOMParser().parseFromString(r,"text/html").body,s=[],n=e=>{let t=[];return e.childNodes.forEach(e=>{if(e.nodeType===Node.TEXT_NODE)t.push(new t2.hal(e.textContent||""));else if(e.nodeType===Node.ELEMENT_NODE&&e instanceof Element)switch(e.tagName.toLowerCase()){case"strong":t.push(new t2.hal({text:e.textContent||"",bold:!0}));break;case"em":t.push(new t2.hal({text:e.textContent||"",italics:!0}));break;case"a":t.push(new t2.EpJ({children:[new t2.hal({text:e.textContent||"",style:"Hyperlink"})],link:e.href}))}}),t},l=(e,t,r)=>{let a=e.childNodes[0],l=e.childNodes[1];if(a.nodeType===Node.ELEMENT_NODE&&a instanceof Element){let e=new t2.nvN({children:n(a),..."ul"===r?{bullet:{level:t}}:{},..."ol"===r?{numbering:{reference:t4,level:t}}:{}});s.push(e)}l&&i(l,t+1)},i=(e,t)=>{if(e.nodeType===Node.ELEMENT_NODE&&e instanceof Element){let r=e.tagName.toLowerCase();e.childNodes.forEach(e=>{l(e,t,r)})}},o=(e,t)=>{e.childNodes.forEach(e=>{if(e.nodeType===Node.ELEMENT_NODE&&e instanceof Element){let r=null;switch(e.tagName.toLowerCase()){case"h1":r=new t2.nvN({children:n(e),heading:t2.y5t.HEADING_1});break;case"h2":r=new t2.nvN({children:n(e),heading:t2.y5t.HEADING_2});break;case"h3":r=new t2.nvN({children:n(e),heading:t2.y5t.HEADING_3});break;case"p":r=new t2.nvN({children:n(e),...t?{style:"Quote"}:{}});break;case"ul":case"ol":i(e,0);break;case"blockquote":o(e,!0)}r&&s.push(r)}})};o(a);let d=new t2.BBB({creator:t,numbering:{config:[{reference:t4,levels:[{level:0,format:t2.WaB.DECIMAL,text:"%1. ",alignment:t2.B1p.START,style:{paragraph:{indent:{left:(0,t2.vwV)(.5),hanging:(0,t2.vwV)(.18)}}}},{level:1,format:t2.WaB.LOWER_LETTER,text:"%2. ",alignment:t2.B1p.START,style:{paragraph:{indent:{left:(0,t2.vwV)(1),hanging:(0,t2.vwV)(.18)}}}},{level:2,format:t2.WaB.LOWER_ROMAN,text:"%3. ",alignment:t2.B1p.START,style:{paragraph:{indent:{left:(0,t2.vwV)(1.5),hanging:(0,t2.vwV)(.18)}}}},{level:3,format:t2.WaB.DECIMAL,text:"%4. ",alignment:t2.B1p.START,style:{paragraph:{indent:{left:(0,t2.vwV)(2),hanging:(0,t2.vwV)(.18)}}}},{level:4,format:t2.WaB.LOWER_LETTER,text:"%5. ",alignment:t2.B1p.START,style:{paragraph:{indent:{left:(0,t2.vwV)(2.5),hanging:(0,t2.vwV)(.18)}}}},{level:5,format:t2.WaB.LOWER_ROMAN,text:"%6. ",alignment:t2.B1p.START,style:{paragraph:{indent:{left:(0,t2.vwV)(3),hanging:(0,t2.vwV)(.18)}}}}]}]},sections:[{children:s}],styles:{default:{document:{paragraph:{spacing:{after:(0,t2.vwV)(.2)}},run:{color:"000000",size:24}},heading1:{paragraph:{keepNext:!1,spacing:{after:(0,t2.vwV)(.3)}},run:{bold:!0,color:"000000",size:36}},heading2:{paragraph:{keepNext:!1,spacing:{after:(0,t2.vwV)(.3)}},run:{bold:!0,color:"000000",size:32}},heading3:{paragraph:{keepNext:!1,spacing:{after:(0,t2.vwV)(.2)}},run:{bold:!0,size:28,color:"000000"}}},paragraphStyles:[{id:"Quote",name:"Quote",basedOn:"Normal",next:"Normal",quickFormat:!0,run:{italics:!0,color:"888888"},paragraph:{indent:{left:720},spacing:{before:200,after:200}}}]}});return await t2.UDs.toBlob(d)}var t8=r(90965),t7=e=>{let{closeDialog:t}=e,{data:r}=(0,eH.useSession)(),a=(0,x.E)(e=>e.editor),s=(0,c.useCallback)(e=>async()=>{var s,n,l;if(!a||!r)return;let i="",o=null,d=a.getHTML().replace(/ data-block-id="[^"]*"/g,"");switch(e){case"html":i=d;break;case"md":i=(0,t8.Z)(d);break;case"docx":o=await t6({creator:(null===(n=r.user)||void 0===n?void 0:n.name)||(null===(l=r.user)||void 0===l?void 0:l.email)||"Hemingway Editor",htmlString:d})}let c="html"===e?"text/html":"text/markdown";o=o||new Blob([i],{type:c});let u=URL.createObjectURL(o),x=document.createElement("a");x.href=u,x.download="export.".concat(e),document.body.appendChild(x),x.click(),document.body.removeChild(x),(0,ez.j)({event:"Exported file",userId:null===(s=r.user)||void 0===s?void 0:s.id,properties:{fileType:e,fileSize:o.size}}),t()},[t,a,r]);return(0,d.jsx)(I.fC,{open:!0,onOpenChange:t,children:(0,d.jsxs)(I.h_,{children:[(0,d.jsx)(I.aV,{className:"fixed inset-0 bg-black bg-opacity-40"}),(0,d.jsxs)(I.VY,{className:"fixed top-[50%] left-[50%] translate-x-[-50%] translate-y-[-50%] focus:outline-none bg-white  dark:bg-slate-800 rounded-lg shadow-2xl p-6 space-y-4",children:[(0,d.jsx)(I.Dx,{className:"text-lg font-bold text-gray-900 dark:text-slate-300",children:"Export File"}),(0,d.jsx)(I.dk,{className:"text-sm text-gray-700 dark:text-slate-400",children:"Export your Hemingway Editor content to a file."}),(0,d.jsx)(k.Z,{onClick:s("html"),Icon:tX.Z,children:"Download HTML (.html)"}),(0,d.jsx)(k.Z,{onClick:s("md"),Icon:t0.Z,children:"Download Markdown (.md)"}),(0,d.jsx)(k.Z,{onClick:s("docx"),Icon:t1.Z,children:"Download Word doc (.docx)"}),(0,d.jsx)(I.x8,{asChild:!0,children:(0,d.jsx)("button",{className:"hover:bg-gray-100 hover:dark:bg-slate-300 text-gray-700 dark:text-slate-300 hover:text-gray-800 hover:dark:text-slate-600 absolute top-[0px] p-1 right-[10px] inline-flex appearance-none items-center justify-center rounded-full focus:shadow-sm focus:outline-none","aria-label":"Close",children:(0,d.jsx)(T.Z,{size:15,stroke:1.5})})})]})]})})},t9=r(82553),t3=()=>{let[e,t]=c.useState(null),r=(0,x.E)(e=>e.editor),a=(0,c.useCallback)(()=>{t(null)},[]);return(0,d.jsxs)(d.Fragment,{children:[(0,d.jsx)(tU,{onSelectItem:e=>t(e),sections:[{key:"import",label:"Import",options:[{disabled:!1,Icon:tq.Z,key:"import",label:"Import file (.docx, .html, .md)"}]},{key:"export",label:"Export",options:[{disabled:!1,Icon:tQ.Z,key:"export",label:"Export file (.docx, .html, .md)"}]}],triggerButton:(0,d.jsx)(k.Z,{buttonSize:"sm",buttonVariant:"ghost",EndIcon:tz.Z,Icon:t$.Z,children:(0,d.jsx)("span",{children:"File"})}),useInToolbar:!0}),"import"===e&&r&&(0,d.jsx)(t9.Z,{closeDialog:a,editor:r,uiLocation:"toolbar"}),"export"===e&&(0,d.jsx)(t7,{closeDialog:a})]})};let t5="Import and export from common file formats, like HTML or Word docs.",re=e=>{let{customerDetails:t}=e;return(0,d.jsx)("a",{href:t?"/billing":"/hemingway-editor-plus",target:"_blank",children:(0,d.jsx)(tL,{"aria-label":"".concat(t5," Click this button to learn more and try it free."),label:"".concat(t5," Click this button to learn more and try it free."),toolbarLocation:"top",value:"files-upsell",children:(0,d.jsxs)("span",{className:"flex flex-row space-x-1 items-center",children:[(0,d.jsx)("span",{children:"File"}),(0,d.jsx)(z.Z,{color:"primary",size:"xs",children:"Plus"})]})})})};var rt=()=>(0,d.jsx)(eV.Z,{fallbackElement:e=>(0,d.jsx)(re,{customerDetails:e}),requireAbilityToUseAI:!0,children:(0,d.jsx)(t3,{})}),rr=e=>{let{editor:t}=e;return(0,d.jsx)(ty.fC,{"aria-label":"Formatting toolbar",className:"px-2 py-1 flex flex-row items-center space-x-2 font-inter bg-gradient-to-br from-slate-50 dark:from-slate-600 to-slate-100 dark:to-slate-700 border border-gray-200 dark:border-slate-500 rounded shadow",children:(0,d.jsxs)(tw.zt,{delayDuration:100,children:[(0,d.jsx)(rt,{}),(0,d.jsx)(ty.Z0,{className:"border-l border-gray-200 dark:border-slate-500 h-full"}),(0,d.jsx)(tJ,{editor:t}),(0,d.jsx)(ty.Z0,{className:"border-l border-gray-200 dark:border-slate-500 h-full"}),(0,d.jsx)(tZ,{editor:t}),(0,d.jsx)(ty.Z0,{className:"border-l border-gray-200 dark:border-slate-500 h-full"}),(0,d.jsx)(tO,{editor:t})]})})},ra=r(75934);let rs=e=>e<1e3?e.toString():e<1e4?"".concat((e/1e3).toFixed(1),"k"):"".concat(Math.round(e/1e3),"k"),rn=e=>Intl.NumberFormat().format(e),rl=()=>{let{customerDetails:e,error:t}=(0,ra.Z)();return e&&!t&&(e.status===eG.WE.Customer||e.status===eG.WE.Trial)?(0,d.jsx)("div",{children:(0,d.jsx)(tw.pn,{children:(0,d.jsxs)(tw.u,{delayDuration:400,children:[(0,d.jsx)(tw.aJ,{asChild:!0,children:(0,d.jsxs)("p",{className:"underline cursor-help text-gray-500 dark:text-slate-300 text-xs",children:["AI used:",(0,d.jsx)("br",{}),rs(Math.min(e.generationsActual,e.generationsLimit))," / ",rs(e.generationsLimit)]})}),(0,d.jsxs)(tw._v,{className:"p-4 rounded bg-white dark:bg-slate-600 text-gray-800 dark:text-slate-200 shadow-lg w-72 space-y-3",children:[(0,d.jsx)("p",{children:(0,d.jsx)("strong",{children:"AI Sentences"})}),(0,d.jsxs)("p",{className:"text-sm",children:["Your ",e.status===eG.WE.Customer?"plan":"trial"," allows you to generate a certain number of AI sentence corrections and content."]}),(0,d.jsxs)("p",{className:"text-sm",children:["You can upgrade to a higher plan to get more AI sentences. ",e.status===eG.WE.Customer?"Your usage will reset back to 0 when your month-long billing period starts over on ".concat(e.periodEndDate,"."):""]}),(0,d.jsxs)("p",{className:"text-sm",children:["Current usage: ",(0,d.jsxs)("strong",{children:[rn(Math.min(e.generationsActual,e.generationsLimit))," / ",rn(e.generationsLimit)]})]}),(0,d.jsx)("div",{children:(0,d.jsx)("a",{href:"/billing",target:"_blank",children:(0,d.jsx)(k.Z,{buttonColor:"primary",buttonSize:"sm",children:"Upgrade"})})})]})]})})}):null};var ri=()=>(0,d.jsx)(eV.Z,{children:(0,d.jsx)(rl,{})}),ro=r(9630),rd=e=>{let{children:t,Icon:r,...a}=e;return(0,d.jsx)(e5.ck,{className:"p-1 text-sm cursor-pointer",...a,children:(0,d.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[(0,d.jsx)(r,{size:14}),(0,d.jsx)("span",{children:t})]})})},rc=r(55572),ru=()=>(0,d.jsx)(rd,{Icon:rc.Z,onSelect:()=>{(0,eH.signOut)()},children:"Log Out"}),rx=r(66447),rh=()=>(0,d.jsx)(rd,{Icon:rx.Z,onSelect:()=>{window.open("/feedback","_blank")},children:"Send Feedback"}),rm=r(37524),rg=()=>{let{customerDetails:e}=(0,ra.Z)();return(0,d.jsx)(rd,{Icon:rm.Z,onSelect:()=>{window.open("/billing","_blank")},children:e&&e.status===eG.WE.Customer?"Billing":"Upgrade"})},rp=r(75063),rf=()=>(0,d.jsx)(rd,{Icon:rp.Z,onSelect:()=>{window.open("/help","_blank")},children:"Help & Support"}),rb=()=>(0,d.jsx)(e5.Z0,{className:"border-t border-gray-400 dark:border-slate-500"}),rC=r(36992),rv=()=>(0,d.jsx)(rd,{Icon:rC.Z,onSelect:()=>{window.open("/legal/terms-and-conditions","_blank")},children:"Terms & Privacy"}),rj=r(12333),ry=()=>{let{data:e}=(0,eH.useSession)(),t=(0,c.useCallback)(()=>{(0,ez.j)({event:"Clicked affiliates link",userId:null==e?void 0:e.user.id}),window.open("https://38-long-llc.getrewardful.com","_blank")},[e]);return(0,d.jsx)(rd,{Icon:rj.Z,onSelect:t,children:"Affiliates"})},rw=r(10453),rk=r(47907),rN=()=>{let e=(0,rk.useRouter)(),t=(0,c.useCallback)(()=>{e.push("/user/settings")},[e]);return(0,d.jsx)(rd,{Icon:rw.Z,onSelect:t,children:"User Settings"})},rZ=r(80059),rS=()=>(0,d.jsx)(rd,{Icon:rZ.Z,onSelect:()=>{window.open("/blog","_blank")},children:"Blog"}),rT=r(1832),rL=()=>(0,d.jsx)(rd,{Icon:rT.Z,onSelect:()=>{window.open("/team","_blank")},children:"Team"}),rI=r(67269),rP=r(62148),rA=r(38716),rE=()=>{let{customerDetails:e}=(0,ra.Z)(),{data:t}=(0,eH.useSession)();if(!e||!t)return null;let r=e.organizationName||"Unnamed Team";return(0,d.jsxs)("div",{className:"space-y-1 text-xs text-gray-500 dark:text-slate-400",children:[(0,d.jsx)("p",{title:t.user.email,children:(0,e$.$G)({text:t.user.email,maxCharacters:16})}),e.orgUserCount>1&&(0,d.jsx)("p",{title:r,children:(0,e$.$G)({text:r,maxCharacters:16})}),e.status===eG.WE.Customer&&(0,d.jsxs)("p",{children:[(0,rI.Nt)(e.plan)," Plan"]}),e.status===eG.WE.Trial&&(0,d.jsxs)("p",{children:["Trial expires on ",(0,rP.Z)((0,rA.Z)(e.periodEndDate),"MMM dd")]})]})};let rO=e=>{switch(e){case eG.WE.Customer:return"Plus Plan";case eG.WE.Trial:return"Free Trial";default:return"Upgrade to use AI"}};var rD=()=>{let{data:e}=(0,eH.useSession)(),t=e.user.name||e.user.email,{customerDetails:r}=(0,ra.Z)();return(0,d.jsxs)(e5.fC,{children:[(0,d.jsx)(e5.xz,{asChild:!0,children:(0,d.jsx)(k.Z,{buttonColor:"secondary",buttonSize:"sm",buttonVariant:"filled",EndIcon:ro.Z,children:(0,d.jsxs)("div",{className:"text-xs text-left leading-1",children:[(0,d.jsx)("div",{className:"font-semibold",children:(0,e$.$G)({text:t,maxCharacters:10})}),r&&(0,d.jsx)("div",{children:rO(r.status)})]})})}),(0,d.jsxs)(e5.VY,{className:"p-2 bg-white dark:bg-slate-600 rounded shadow-lg w-40 mr-6 space-y-1 origin-top data-[state=open]:animate-scale-in data-[state=closed]:animate-scale-out",children:[(0,d.jsx)(rE,{}),(0,d.jsx)(rb,{}),(0,d.jsx)(rg,{}),(0,d.jsx)(rN,{}),(0,d.jsx)(rL,{}),(0,d.jsx)(rb,{}),(0,d.jsx)(rh,{}),(0,d.jsx)(rf,{}),(0,d.jsx)(rS,{}),(0,d.jsx)(rv,{}),(0,d.jsx)(rb,{}),(0,d.jsx)(ry,{}),(0,d.jsx)(rb,{}),(0,d.jsx)(ru,{})]})]})},rM=r(90635),rH=()=>(0,d.jsx)(rd,{Icon:rM.Z,onSelect:()=>{window.open("/auth/login","_blank")},children:"Log In"}),rz=()=>(0,d.jsx)(rd,{Icon:L.Z,onSelect:()=>{window.open("/hemingway-editor-plus","_blank")},children:"Get AI help"}),rR=r(13536),rB=()=>(0,d.jsx)(rd,{Icon:rR.Z,onSelect:()=>{window.open("/desktop","_blank")},children:"Desktop App"}),r_=()=>(0,d.jsxs)(e5.fC,{children:[(0,d.jsx)(e5.xz,{asChild:!0,children:(0,d.jsx)(k.Z,{buttonColor:"secondary",buttonSize:"sm",buttonVariant:"filled",EndIcon:ro.Z,children:"Menu"})}),(0,d.jsxs)(e5.VY,{className:"p-2 bg-white dark:bg-slate-600 rounded shadow-lg w-40 mr-6 space-y-1 origin-top data-[state=open]:animate-scale-in data-[state=closed]:animate-scale-out",children:[(0,d.jsx)(rz,{}),(0,d.jsx)(rb,{}),(0,d.jsx)(rB,{}),(0,d.jsx)(rb,{}),(0,d.jsx)(rv,{}),(0,d.jsx)(rf,{}),(0,d.jsx)(rS,{}),(0,d.jsx)(rb,{}),(0,d.jsx)(ry,{}),(0,d.jsx)(rb,{}),(0,d.jsx)(rH,{})]})]}),rF=()=>(0,d.jsx)(eV.Z,{fallbackElement:()=>(0,d.jsx)(r_,{}),children:(0,d.jsx)(rD,{})}),rU=r(27158),rW=r(80170),rV=r(78579),rG=r(60563);let rY=()=>{let e=(0,rV.Z)({experimentName:rG.pe.freeUserTutorialNov2024,logExperimentStart:!1}),t=(0,rW.X)(e=>e.openFreeUserTutorial);return e!==rG.Vy.bothButtons&&e!==rG.Vy.topMenuButton?null:(0,d.jsxs)(k.Z,{buttonSize:"sm",buttonVariant:"outline",className:"hidden lg:block mx-auto",onClick:t,children:[(0,d.jsx)("span",{className:"hidden xl:block",children:"How to use Hemingway"}),(0,d.jsx)("span",{className:"block xl:hidden",children:"How to use"})]})};var rK=()=>(0,d.jsx)(eV.Z,{fallbackElement:()=>(0,d.jsx)(rY,{})}),rJ=e=>{let{editor:t}=e,{data:r}=(0,eH.useSession)(),a=(0,rU.Z)(),s=(0,rU.m)();return(0,d.jsx)("div",{className:(0,es.Z)("w-screen fixed left-0 z-10",!r||a||s?"top-8":"top-0"),children:(0,d.jsxs)("div",{className:"flex flex-row justify-between items-center w-full h-14 px-4 bg-slate-200 dark:bg-slate-700 shadow",children:[(0,d.jsx)("div",{className:"w-1/6",children:(0,d.jsx)(tj.Z,{className:"w-auto h-7"})}),(0,d.jsx)("div",{className:"w-2/3 flex flex-row justify-around",children:(0,d.jsx)(rr,{editor:t})}),(0,d.jsxs)("div",{className:"flex flex-row space-x-2 justify-end items-center w-1/6",children:[(0,d.jsx)(ri,{}),(0,d.jsx)(rK,{}),(0,d.jsx)(rF,{})]})]})})},rq=r(47030),rQ=r(75646),r$=r(87369),rX=r(3654),r0=r(19672),r1=r(38015),r2=r(15932);let r4=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=[],a={},s=e.childCount,n=t;for(let t=0;t<s;t++){let s=n,l=e.child(t);if(n+=l.nodeSize,l.isTextblock){a[l.attrs[r1.a]]=s,r.push(l);continue}if(l.isBlock){let[e,t]=r4(l,s+1);r=[...r,...e],a={...a,...t};continue}}return[r,a]};var r6=e=>new r0.Sy({appendTransaction:(t,r,a)=>{if(a.doc!==r.doc){let s=r.doc,[n,l]=r4(a.doc),[i]=r4(s),o=[];for(let e=0;e<i.length;e++){let t=i[e],r=!1;for(let e=0;e<n.length;e++)t===n[e]&&(r=!0);if(!r){let e=t.attrs[r1.a];o.push(e)}}let{readingLevelTarget:d,updateBlocks:c}=e(),u=[];for(let e=0;e<n.length;e++){let t=n[e],r=t.attrs[r1.a],a=!1;for(let e=0;e<i.length;e++)i[e]===t&&(a=!0);if(!a){let e=(0,el.Py)({blockId:r,textContent:t.textContent,parserSettings:{readingLevelTarget:d}});u.push(e)}}c({blockIdsToRemove:o,blockPositions:l,blocksToUpsert:u,positionMapping:t[0].mapping.map.bind(t[0].mapping)})}return a.tr},props:{decorations(t){let{blockPositions:r,blockMap:a,enabledHighlights:s,hoveredHighlightId:n,writeEditMode:l}=e();if(!("write"!==l))return rX.EH.empty;let i=(0,r2.hP)({blockMap:a,blockPositions:r,enabledHighlights:s,hoveredIssueId:n});return rX.EH.create(t.doc,i)}}}),r8=r(15839),r7=()=>new r0.Sy({props:{handleDOMEvents:{paste:(e,t)=>{let{state:r}=e;if(r.selection.from+r.selection.to===r.doc.content.size){t.preventDefault();let r=r8.fK.node("doc",null,r8.fK.node("paragraph")),a=e.state.tr.replaceWith(0,e.state.doc.content.size,r);a.setSelection(r0.Bs.create(a.doc,1)),e.dispatch(a);let s=t.clipboardData;if(s){if(s.types.includes("text/html")){let t=s.getData("text/html");e.pasteHTML(t)}else if(s.types.includes("text/plain")){let t=s.getData("text/plain");e.pasteText(t)}}return!0}return!1}}}}),r9=e=>C.hj.create({addProseMirrorPlugins:()=>[(0,r1.Z)(),r6(e),r7()],addGlobalAttributes:()=>[{types:["heading","paragraph","blockquote","bulletList","orderedList"],attributes:{[r1.a]:{default:eM.Z,isRequired:!0,keepOnSplit:!1,renderHTML:e=>({"data-block-id":e[r1.a]}),parseHTML:e=>e.getAttribute(r1.a)||(0,eM.Z)()}}}]}),r3=e=>[r$.Z.configure({code:!1,codeBlock:!1,dropcursor:!1,gapcursor:!1,hardBreak:!1,heading:{levels:[1,2,3]},horizontalRule:!1,strike:!1}),rQ.Z.configure({linkOnPaste:!0,openOnClick:!1,protocols:["http","https","mailto"]}),r9(e)],r5=e=>{let{isDemo:t,getHighlightState:r}=e;return{autofocus:"end",content:t?"":rq.n.map(rq.K).join("\n"),editorProps:{attributes:{class:(0,es.Z)(tg.L,"relative","overflow-auto outline-none","w-full min-w-[10px]",!t&&"xl:min-w-[65ch] mb-20")}},extensions:r3(r)}},ae=r(81859);let at=e=>{let{demoType:t}=e,r=(0,w.p)(e=>e.setTurnstileRef),a=(0,w.p)(e=>e.setToken);return(0,d.jsx)(ae.Nc,{onSuccess:a,options:{action:t},ref:r,siteKey:"0x4AAAAAAA0VwpWMVcM8F3q2"})};var ar=e=>{let{demoType:t}=e;return(0,d.jsx)(eV.Z,{fallbackElement:()=>(0,d.jsx)(at,{demoType:t}),children:(0,d.jsx)(d.Fragment,{})})};let aa=e=>{let{hasBillingPermissionToUseGrammar:t,demoType:r}=e,a=(0,m.oS)(e=>e.toggleHighlight),s=(0,w.p)(e=>e.isAtFreeGrammarCheckLimit),[n,l]=(0,c.useState)(!1),i=null!==r;return(0,c.useEffect)(()=>{if(i){n||(a("grammar",!s),l(!0));return}a("grammar",t)},[t,n,s,i,a]),i?(0,d.jsx)(ar,{demoType:r}):null};var as=e=>null!==e.demoType?(0,d.jsx)(aa,{hasBillingPermissionToUseGrammar:!1,demoType:e.demoType}):(0,d.jsx)(eV.Z,{requireAbilityToUseGrammar:!0,fallbackElement:t=>(0,d.jsx)(aa,{hasBillingPermissionToUseGrammar:!1,...e}),children:(0,d.jsx)(aa,{hasBillingPermissionToUseGrammar:!0,...e})}),an=e=>{let{editor:t}=e;return(0,d.jsx)(u.kg,{editor:t})},al=r(83787),ai=r(43863),ao=r(7475),ad=e=>{let{editor:t}=e;return t.getText().length>0?null:(0,d.jsx)("div",{className:(0,es.Z)("overflow-visible","absolute pointer-events-none","text-gray-900 dark:text-slate-100","opacity-50","top-1 left-1","text-sm"),children:(0,d.jsx)("p",{children:"Or, tell us how to change this text..."})})},ac=r(8792),au=e=>{let{editor:t}=e,[r,a]=c.useState(!1),s=t.getText(),n=ei(s),l=t.view.hasFocus(),i=s.length<3,o=n&&n.words>500;return(0,c.useEffect)(()=>{l&&!r&&a(!0)},[l,r]),(0,d.jsxs)(d.Fragment,{children:[r&&i&&(0,d.jsxs)("p",{className:"text-xs mt-1 text-gray-500 dark:text-slate-400",children:[(0,d.jsx)(ac.default,{className:"underline",href:"/help/docs/rewriting-text-with-ai-tools#give-hemingway-instructions-on-how-to-rewrite-your-writing",target:"_blank",children:"Learn more"})," about how to use this feature."]}),!(i||o)&&(0,d.jsxs)("p",{className:"text-xs mt-1 text-gray-500 dark:text-slate-400",children:["Press ",(0,d.jsx)("span",{className:"font-bold",children:"Enter"})," to rewrite."]}),o&&(0,d.jsx)("p",{className:"text-xs mt-1 text-red-700 dark:text-red-400",children:"Your prompt is too long. Please shorten it."})]})},ax=()=>{let e=(0,to.E)(e=>e.setCustomUserPrompt),t=(0,to.E)(e=>e.showRewriteDialog),r=(0,to.E)(e=>e.customUserPrompt),a=ei(r),s=(0,c.useCallback)(e=>{"Enter"===e.key&&(e.preventDefault(),r.trim().length>2&&a&&a.words<=500&&t(l.custom))},[t,r,a]),n=(0,c.useMemo)(()=>({autofocus:!1,editorProps:{attributes:{class:"text-sm w-full max-w-[26rem] whitespace-pre-wrap p-1 rounded border border-gray-200 dark:border-slate-600"}},extensions:[al.Z.extend({addKeyboardShortcuts:()=>({Enter:()=>!0})}),ai.Z,ao.Z],onUpdate:t=>{let{editor:r}=t;e(r.getText())}}),[e]),i=(0,u.jE)(n);return(0,d.jsxs)("div",{className:"relative",children:[(0,d.jsx)(u.kg,{className:"max-h-72 overflow-y-auto",editor:i,onKeyDown:s}),i&&(0,d.jsx)(ad,{editor:i}),i&&(0,d.jsx)(au,{editor:i})]})},ah=()=>{let e=(0,to.E)(e=>e.showRewriteDialog),t=(0,c.useCallback)(()=>{e("simplify-bulk")},[e]),r=(0,c.useCallback)(()=>{e(l.polish)},[e]),a=(0,c.useCallback)(()=>{e(l["creative-rephrase"])},[e]);return(0,d.jsx)(ty.fC,{"aria-label":"Floating toolbar for AI tools",className:"flex flex-col bg-white dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded shadow-xl p-1 font-inter space-y-2",children:(0,d.jsxs)(tw.zt,{delayDuration:100,children:[(0,d.jsxs)("div",{className:"flex flex-row space-x-2",children:[(0,d.jsx)(tL,{label:"Simplify",value:"simplify",onClick:t,tooltip:"Simplify sentence structure and remove wordiness.",toolbarLocation:"floating",children:(0,d.jsxs)("div",{className:"flex flex-row items-center space-x-1",children:[(0,d.jsx)($.Z,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Simplify"})]})}),(0,d.jsx)(tL,{label:"Polish",value:"polish",onClick:r,tooltip:"Fix awkward or unclear phrasing.",toolbarLocation:"floating",children:(0,d.jsxs)("div",{className:"flex flex-row items-center space-x-1",children:[(0,d.jsx)(Q.Z,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Polish"}),(0,d.jsx)(z.Z,{size:"xs",children:"Beta"})]})}),(0,d.jsx)(tL,{label:"Rephrase creatively",value:"rephrase-creatively",onClick:a,tooltip:"Find creative, alternative ways of expressing a passage.",toolbarLocation:"floating",children:(0,d.jsxs)("div",{className:"flex flex-row items-center space-x-1",children:[(0,d.jsx)(_.Z,{className:"w-4 h-4"}),(0,d.jsx)("span",{children:"Rephrase"})]})}),(0,d.jsx)(ty.Z0,{className:"border-l border-gray-200 dark:border-slate-600"}),(0,d.jsx)(tW,{disabled:!1,handleShowDialog:e,isInFloatingToolbar:!0})]}),(0,d.jsx)("div",{children:(0,d.jsx)(ax,{})})]})})};let am=e=>{let{editor:t}=e,{data:r}=(0,eH.useSession)(),a=(0,m.oS)(e=>e.blockMap),s=(0,m.oS)(e=>e.blockPositions),n=(0,c.useRef)(!1),{markStepComplete:l}=(0,E.Z)(),i=t.state.selection.from,o=t.state.selection.to,u=(0,c.useCallback)(async()=>{try{let e={sentence:(0,b.RR)({from:i,to:o,blockMap:a,blockPositions:s})},t=await fetch("/api/editor/synonyms",{body:JSON.stringify(e),method:"POST"}),{synonyms:r}=await t.json();return[{key:"synonyms",options:r.map(e=>({disabled:!1,key:e,label:e}))}]}catch(e){return(0,A.H)({email:r.user.email,error:e,userId:r.user.id}),[]}},[i,o,a,s,r]),x=(0,c.useCallback)(e=>{(0,ej.KH)({editor:t,from:i,text:e,to:o}),(0,ez.j)({event:"Accepted AI content",properties:{contentType:"synonyms",generationCount:1},userId:r.user.id}),n.current=!1},[t,i,o,r]),h=(0,c.useCallback)(e=>{e&&!n.current?(l(O.j.synonyms),(0,ez.j)({event:"Opened AI content dialog",properties:{contentType:"synonyms"},userId:r.user.id}),n.current=!0):!e&&n.current&&((0,ez.j)({event:"Canceled AI content dialog",properties:{contentType:"synonyms",generationCount:1},userId:r.user.id}),n.current=!1)},[r,n,l]);return(0,d.jsx)(tU,{onOpenChange:h,onSelectItem:x,getSections:u,loadingOptionsToShow:8,triggerButton:(0,d.jsxs)(k.Z,{buttonSize:"sm",buttonVariant:"ghost",EndIcon:tz.Z,children:[(0,d.jsx)("span",{children:"AI synonyms"}),(0,d.jsx)(z.Z,{className:"ml-2",size:"xs",children:"Beta"})]}),useInToolbar:!0})};var ag=()=>{let e=(0,x.E)(e=>e.editor);return e?(0,d.jsx)(am,{editor:e}):null},ap=()=>(0,d.jsx)(ty.fC,{"aria-label":"Floating toolbar for AI tools",className:"flex flex-row space-x-2 bg-white dark:bg-slate-700 border border-gray-200 dark:border-slate-600 rounded shadow-xl p-1 font-inter",children:(0,d.jsx)(tw.zt,{delayDuration:100,children:(0,d.jsx)(ag,{})})});let af=e=>{let{editor:t}=e,{state:r,composing:a}=t.view,{selection:s}=r,{from:n,to:l,empty:i}=s,{x:o,y:c,width:u,height:x}=j({editor:t,isHighlight:!1}),{canShowAiTools:h,canShowSynonyms:m}=tV({editorState:r}),g=!a&&!i&&n!==l&&(h||m);return(0,d.jsxs)(f.fC,{open:g,children:[(0,d.jsx)(f.ee,{className:"absolute pointer-events-none",style:{left:o,top:c,width:u,height:x},children:"\xa0"}),(0,d.jsxs)(f.VY,{className:"origin-top data-[state=open]:animate-scale-in data-[state=closed]:animate-scale-out",collisionBoundary:t.view.dom,collisionPadding:{top:60},onOpenAutoFocus:e=>e.preventDefault(),side:"top",sideOffset:8,children:[h&&(0,d.jsx)(ah,{}),m&&(0,d.jsx)(ap,{})]})]})};var ab=e=>(0,d.jsx)(eV.Z,{requireAbilityToUseAI:!0,fallbackElement:()=>null,children:(0,d.jsx)(af,{...e})}),aC=e=>{let{enable:t,prompts:r,showEveryNGenerations:a}=e,{customerDetails:s}=(0,ra.Z)();if(!t||!s||!(s.status===eG.WE.Customer||s.status===eG.WE.Trial))return null;let{generationsActual:n}=s;return n%a==0&&n>0?function(e){let t=e.slice();for(let e=t.length-1;e>0;e--){let r=Math.floor(Math.random()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t.slice(0,2)}(r):null},av=e=>{let{editor:t}=e,{state:r,composing:a}=t.view,{selection:s}=r,{from:n,to:l,empty:i}=s;return(0,c.useMemo)(()=>!t||a||i||void 0===n||void 0===l?null:(0,ej.fQ)({editor:t,from:n,to:l}),[t,n,l,i,a])};let aj=e=>{let{editor:t}=e,r=(0,to.E)(e=>e.rewriteDialogType),a=(0,to.E)(e=>e.hideRewriteDialog),s=(0,to.E)(e=>e.customUserPrompt),n=t.state.selection.from,i=t.state.selection.to,o=av({editor:t}),u=(0,c.useMemo)(()=>1===(0,el.Py)({blockId:"unused in this context",textContent:o||""}).stats.sentences&&"simplify-bulk"===r,[o,r]),x=(0,c.useMemo)(()=>o?u?{prompt:"",sentence:o}:{document:o,prompt:r===l.custom?s:""}:u?{prompt:"",sentence:""}:{document:""},[s,o,u,r]),h=(0,c.useCallback)(e=>{a(),(0,ej.KH)({editor:t,from:n,text:e,to:i})},[t,n,a,i]),m=aC({enable:"simplify-bulk"===r,prompts:["dec2024-tour-rd4","jan2025-tour-rd4-simple-prompt"],showEveryNGenerations:2});return r&&o?(0,d.jsx)(eB,{apiURL:u?"/api/editor/simplify":"simplify-bulk"===r?"/api/editor/simplify-bulk":"/api/editor/rewrite/".concat(r),apiBody:x,onAcceptAIContent:h,onClose:a,testPrompts:m||void 0,textToCorrect:o,title:"AI Writing Assistant",type:u?"simplify":r,userPrompt:r===l.custom?s:void 0}):null};var ay=e=>(0,d.jsx)(eV.Z,{requireAbilityToUseAI:!0,fallbackElement:()=>null,children:(0,d.jsx)(aj,{...e})}),aw=r(33083);let ak=e=>e.steps.find(e=>e.isActive),aN={trial:{arcadeId:"yXDL9QRzN6QmQ6uey133",title:"Hemingway Editor Plus Tutorial",completionMessage:"You are ready to start using Hemingway Editor Plus. Your free trial includes up to 200 AI sentence generations.",steps:[{startingStepIndex:2,endingStepIndex:2,title:"Readability"},{startingStepIndex:3,endingStepIndex:7,title:"Simplify wordy sentences"},{startingStepIndex:8,endingStepIndex:13,title:"Simplify wordy paragraphs"},{startingStepIndex:14,endingStepIndex:14,title:"Polish your writing"},{startingStepIndex:15,endingStepIndex:16,title:"Adjust tone or length"},{startingStepIndex:17,endingStepIndex:20,title:"Document review & feedback"}]},free:{arcadeId:"XuILYcpJriXk6dAcU8hW",title:"Hemingway Editor Tutorial",completionMessage:"You are ready to start using Hemingway Editor. Or, try Editor Plus for AI-powered writing assistance.",steps:[{startingStepIndex:4,endingStepIndex:5,title:"Readability scoring"},{startingStepIndex:6,endingStepIndex:8,title:"Simplify wordy sentences"},{startingStepIndex:9,endingStepIndex:10,title:"Identify writing issues"},{startingStepIndex:11,endingStepIndex:11,title:"Grammar checking"},{startingStepIndex:12,endingStepIndex:12,title:"Fix issues with AI"}]}},aZ=e=>{let{arcade:t,startingStepIndex:r,endingStepIndex:a,navigateToStep:s,title:n}=e,l=t?ak(t):null,i=l&&l.order>=r&&l.order<=a,o=null==t?void 0:t.steps.find(e=>e.order===r);return(0,d.jsxs)(ty.zx,{className:(0,es.Z)("flex flex-row space-x-2 text-sm text-left z-20",i?"text-fuchsia-700 dark:text-fuchsia-400":""),onClick:()=>{var e;return s(null!==(e=null==o?void 0:o.id)&&void 0!==e?e:"")},children:[i?(0,d.jsx)(aw.Z,{className:"bg-white dark:bg-slate-700 rounded-full",size:16}):(0,d.jsx)(aw.Z,{className:"bg-white dark:bg-slate-700 rounded-full text-gray-300 dark:text-slate-600",size:16}),(0,d.jsx)("span",{children:n})]})};var aS=()=>{let{data:e}=(0,eH.useSession)(),t=(0,rW.X)(e=>e.isTrialTutorialOpen),r=(0,rW.X)(e=>e.isFreeUserTutorialOpen),a=(0,rW.X)(e=>e.closeTrialTutorial),s=(0,rW.X)(e=>e.closeFreeUserTutorial),{markStepComplete:n}=(0,E.Z)(),l=t||r,i=t?"trial":"free",o=aN[i],u=(0,c.useRef)(null),[x,h]=(0,c.useState)(null),[m,g]=(0,c.useState)(!1);(0,c.useEffect)(()=>{t&&n(O.j.interactiveTutorial)},[t,n]),(0,c.useEffect)(()=>{let t=t=>{if("https://demo.arcade.software"===t.origin&&t.isTrusted&&"arcade-state-update"===t.data.event){var r;h(t.data.arcade);let a=ak(t.data.arcade);a&&((0,ez.j)({event:"Tutorial Step Reached",properties:{stepId:a.id,stepName:a.name,stepNumber:a.order,tutorialType:i},userId:null==e?void 0:null===(r=e.user)||void 0===r?void 0:r.id}),a.order===t.data.arcade.steps.length&&g(!0))}};return window.addEventListener("message",t),()=>window.removeEventListener("message",t)},[e,i]);let p=(0,c.useCallback)(e=>{var t,r;null===(r=u.current)||void 0===r||null===(t=r.contentWindow)||void 0===t||t.postMessage({event:"navigate-to-step",stepId:e},"*")},[]),f=(0,c.useCallback)(()=>{x&&(g(!1),p(x.steps.sort((e,t)=>e.order-t.order)[0].id))},[x,p]),b=(0,c.useCallback)(()=>{if(t?a():s(),g(!1),x){let t=ak(x);if(t&&t.order!==x.steps.length){var r;(0,ez.j)({event:"Tutorial closed early",properties:{stepId:t.id,stepName:t.name,stepNumber:t.order,tutorialType:i},userId:null==e?void 0:null===(r=e.user)||void 0===r?void 0:r.id})}}},[a,s,t,x,e,i]);return(0,d.jsx)(I.fC,{open:l,onOpenChange:b,children:(0,d.jsxs)(I.h_,{children:[(0,d.jsx)(I.aV,{className:"fixed inset-0 max-h-screen bg-black bg-opacity-50 dark:bg-opacity-70 z-10"}),(0,d.jsxs)(I.VY,{className:(0,es.Z)("rounded shadow-2xl bg-white dark:bg-slate-700 dark:text-slate-300 p-4 fixed inset-1/2 h-fit max-h-screen overflow-y-auto transform -translate-x-1/2 -translate-y-1/2 space-y-4 z-20",m?"w-fit":"w-full max-w-[90vw]"),children:[(0,d.jsx)(I.Dx,{className:"flex flex-row justify-between",children:(0,d.jsx)("span",{className:"text-xl font-bold",children:m?"Tutorial Completed!":o.title})}),(0,d.jsxs)("div",{children:[!m&&(0,d.jsx)("div",{className:"space-y-4",children:(0,d.jsxs)("div",{className:"flex flex-row space-x-4",children:[(0,d.jsx)("div",{style:{position:"relative",paddingBottom:"calc(45.677083333333336% + 41px)",height:0,width:"100%"},children:(0,d.jsx)("iframe",{src:"https://demo.arcade.software/".concat(o.arcadeId,"?embed&embed_mobile=inline&embed_desktop=inline&show_copy_link=true"),title:o.title,frameBorder:"0",loading:"lazy",allowFullScreen:!0,allow:"clipboard-write",style:{position:"absolute",top:0,left:0,width:"100%",height:"100%",colorScheme:"light"},ref:u})}),(0,d.jsxs)(ty.fC,{className:"flex flex-col w-64",orientation:"vertical",children:[(0,d.jsx)(Z.Z,{children:"Tutorial Steps"}),(0,d.jsxs)("div",{className:"flex flex-col space-y-4 relative pt-5",children:[(0,d.jsx)("div",{className:"absolute top-4 left-[6px] h-full w-[3px] bg-slate-300 dark:bg-slate-600 z-10"}),o.steps.map((e,t)=>(0,d.jsx)(aZ,{arcade:x,startingStepIndex:e.startingStepIndex,endingStepIndex:e.endingStepIndex,navigateToStep:p,title:e.title},t))]})]})]})}),m&&(0,d.jsxs)("div",{className:"space-y-6",children:[(0,d.jsx)("p",{className:"text-pretty",children:o.completionMessage}),(0,d.jsxs)("div",{className:"flex flex-row space-x-2",children:[r&&(0,d.jsx)(ac.default,{href:"/hemingway-editor-plus",target:"_blank",children:(0,d.jsx)(k.Z,{buttonSize:"lg",buttonVariant:"ghost",children:"Try Editor Plus (free)"})}),(0,d.jsx)(k.Z,{buttonSize:"lg",buttonVariant:"ghost",onClick:f,children:"Restart Tutorial"}),(0,d.jsx)(k.Z,{buttonColor:"primary",buttonSize:"lg",onClick:b,children:"Back to Hemingway"})]})]})]}),(0,d.jsx)(I.x8,{asChild:!0,children:(0,d.jsx)("button",{className:"hover:bg-gray-100 hover:dark:bg-slate-300 text-gray-700 dark:text-slate-300 hover:text-gray-800 hover:dark:text-slate-600 absolute top-[0px] p-1 right-[10px] inline-flex appearance-none items-center justify-center rounded-full focus:shadow-sm focus:outline-none","aria-label":"Close",onClick:b,children:(0,d.jsx)(T.Z,{size:15,stroke:1.5})})})]})]})})};let aT="editorState";var aL=e=>{let{demoType:t,disableGrammarCheck:r,onUsedEditor:a}=e,[s,n]=c.useState(!1),[l,i]=c.useState(!1),[o,h]=c.useState(!1),{data:g}=(0,eH.useSession)(),f=(0,rU.Z)(),b=(0,rU.m)(),C=g&&!f&&!b,v=(0,m.Yn)(),j=(0,x.E)(e=>e.setEditor),y=!!t;(0,rV.Z)({experimentName:rG.pe.freeUserTutorialNov2024,logExperimentStart:!0});let w=(0,c.useMemo)(()=>({...r5({isDemo:y,getHighlightState:v}),editorProps:{...r5({isDemo:y,getHighlightState:v}).editorProps,transformPasted(e,t){if(""===t.state.doc.textContent.trim()){let t=e.content.textBetween(0,e.content.size,"\n\n"),{highlights:r,...a}=(0,el.Py)({blockId:"paste",textContent:t}).stats;g&&(0,ez.j)({event:"Pasted in editor",userId:g.user.id,properties:{...r,...a,paragraphs:t.split("\n\n").length,uiLocation:"editor"}})}return e}},onUpdate:e=>{let{editor:t}=e;j(t),i(!0),null==a||a(),localStorage.setItem(aT,JSON.stringify(t.getJSON()))}}),[v,y,g,j,a]),k=(0,u.jE)(w);return(0,c.useEffect)(()=>{if(k&&!s){j(k);let e=localStorage.getItem(aT),t=null;try{t=e?JSON.parse(e):null}catch(e){console.error(e)}k.commands.setContent(t||k.getHTML()),n(!0),t&&h(!0)}},[k,s,j]),(0,d.jsxs)("div",{onClick:e=>e.stopPropagation(),children:[!y&&k&&(0,d.jsx)(rJ,{editor:k}),(0,d.jsx)("div",{className:(0,es.Z)(y?"":C?"mt-20":"mt-28"),children:(0,d.jsx)(an,{editor:k})}),k&&(0,d.jsx)(p,{editor:k}),k&&(0,d.jsx)(e3,{editor:k,isDemo:y}),k&&(0,d.jsx)(tC,{editor:k,isDemo:y}),!y&&k&&(0,d.jsx)(ab,{editor:k}),!y&&k&&(0,d.jsx)(ay,{editor:k}),!y&&k&&(0,d.jsx)(tv,{}),!y&&k&&(0,d.jsx)(tm,{editor:k}),!r&&k&&(0,d.jsx)(as,{demoType:t}),!y&&k&&(0,d.jsx)(aS,{})]})}},4338:function(e,t,r){r.d(t,{GO:function(){return o},Yn:function(){return c},oS:function(){return d},s0:function(){return u}});var a=r(3827),s=r(64090),n=r(5534);let l=(0,s.createContext)(null),i=(0,s.createContext)(null);function o(e){let{children:t,demoType:r,enabledHighlights:o,parentContainerRef:d}=e,c=(0,s.useRef)(null);return c.current||(c.current=(0,n.K7)({enabledHighlights:o,demoType:r})),(0,a.jsx)(i.Provider,{value:d,children:(0,a.jsx)(l.Provider,{value:c.current,children:t})})}function d(e){let t=(0,s.useContext)(l);if(!t)throw Error("useHighlightsStore must be used within HighlightStoreProvider");return t(e)}function c(){let e=(0,s.useContext)(l);if(!e)throw Error("getHighlightsStore must be used within HighlightStoreProvider");return e.getState}function u(){let e=(0,s.useContext)(i);if(!e)throw Error("useParentContainerRef must be used within HemingwayStateProvider");return e}},51966:function(e,t,r){var a=r(3827),s=r(41630),n=r(15440),l=r(98143),i=r(47030),o=r(89461),d=r(64090),c=r(99604),u=r.n(c),x=r(82553),h=r(41754),m=r(45677);t.Z=e=>{let{editor:t,isDemo:r}=e,[c,g]=d.useState(!1),p=(0,d.useCallback)(()=>{let e=i.n.map(i.K).join("\n");t.chain().setContent(e,!0).focus().run()},[t]),f=(0,d.useCallback)(()=>{navigator.clipboard.read().then(async e=>{for(let r of e){if(r.types.includes("text/html")){let e=await r.getType("text/html"),a=await e.text();t.chain().clearContent().setContent(u()(a.replace('<meta charset="utf-8">',"")),!0).focus().run();return}if(r.types.includes("text/plain")){let e=await r.getType("text/plain"),a=await e.text();t.chain().clearContent().setContent(a,!0).focus().run();return}}}).catch(e=>{console.error("Failed to read clipboard contents: ",e)})},[t]),b=(0,d.useCallback)(()=>{g(!1)},[]),C=(0,d.useCallback)(()=>{g(!0)},[]);return(0,a.jsxs)("div",{className:"space-y-3 pointer-events-none",children:[(0,a.jsx)("p",{className:"pointer-events-none cursor-text m-0",children:"Type something or choose an option below to get started..."}),(0,a.jsxs)(h.fC,{className:"flex flex-row items-center space-x-2 pointer-events-auto font-inter",children:[(0,a.jsx)(h.zx,{asChild:!0,children:(0,a.jsx)(o.Z,{buttonSize:"lg",Icon:s.Z,onClick:C,children:"Import file"})}),(0,a.jsx)(h.zx,{asChild:!0,children:(0,a.jsx)(o.Z,{buttonSize:"lg",Icon:n.Z,onClick:f,children:"Paste"})}),(0,a.jsx)(m.Z,{fallbackElement:()=>(0,a.jsx)(h.zx,{asChild:!0,children:(0,a.jsx)(o.Z,{buttonSize:"lg",Icon:l.Z,onClick:p,children:"Use sample text"})}),requireAbilityToUseAI:!0})]}),c&&(0,a.jsx)(x.Z,{closeDialog:b,editor:t,uiLocation:"placeholder"})]})}},82553:function(e,t,r){var a=r(3827),s=r(64090),n=r(13742),l=r(77790),i=r(47578),o=r(99604),d=r.n(o),c=r(85118),u=r(32009),x=r(22600),h=r(21790),m=r(71126),g=r(85772),p=r(11293);t.Z=e=>{let{closeDialog:t,editor:r,uiLocation:o}=e,{data:f}=(0,m.useSession)(),b=""===r.state.doc.textContent.trim(),C=(0,s.useCallback)(e=>{var a;let{fileExtension:s,fileSizeBytes:n,html:l}=e;r.chain().clearContent().setContent(d()(l),!0).focus().run();let i=r.getText({blockSeparator:"\n\n"}),{highlights:c,...u}=(0,p.Py)({blockId:"import",textContent:i}).stats;(0,h.j)({event:"Imported file",userId:null==f?void 0:null===(a=f.user)||void 0===a?void 0:a.id,properties:{fileType:s,fileSize:n,...c,...u,paragraphs:i.split("\n\n").length,uiLocation:o}}),t()},[t,r,f,o]),v=(0,s.useCallback)(e=>{let{fileExtension:t,fileSizeBytes:r,markdown:a}=e;C({fileExtension:t,fileSizeBytes:r,html:u.TU.parse(a)})},[C]),j=(0,s.useCallback)(async e=>{let{buffer:t,fileExtension:r,fileSizeBytes:a}=e;C({fileExtension:r,fileSizeBytes:a,html:(await c.convertToHtml({arrayBuffer:t})).value})},[C]),y=(0,s.useCallback)(async e=>{var t,r;let a=null===(t=e.target.files)||void 0===t?void 0:t[0];if(a)try{let e=await a.text(),t=null===(r=a.name.match(/\.[0-9a-z]+$/i))||void 0===r?void 0:r[0],s=a.size;switch(t){case".html":return C({fileExtension:t,fileSizeBytes:s,html:e});case".md":return v({fileExtension:t,fileSizeBytes:s,markdown:e});case".docx":return j({buffer:await a.arrayBuffer(),fileExtension:t,fileSizeBytes:s})}}catch(e){(0,g.H)({error:e,email:f.user.email,userId:f.user.id})}},[C,j,v,f]);return(0,a.jsx)(n.fC,{open:!0,onOpenChange:t,children:(0,a.jsxs)(n.h_,{children:[(0,a.jsx)(n.aV,{className:"fixed inset-0 bg-black bg-opacity-40"}),(0,a.jsxs)(n.VY,{className:"fixed top-[50%] left-[50%] w-96 translate-x-[-50%] translate-y-[-50%] focus:outline-none bg-white  dark:bg-slate-800 rounded-lg shadow-2xl p-6 space-y-4",children:[(0,a.jsx)(n.Dx,{className:"text-lg font-bold text-gray-900 dark:text-slate-300",children:"Import File"}),(0,a.jsx)(n.dk,{className:"text-sm text-gray-700 dark:text-slate-400",children:"Import a file to use in Hemingway Editor. Images, tables, and custom styles will be ignored."}),(0,a.jsx)(i.Z,{accept:".docx,.html,.md",label:"Pick a file to import (.docx, .html, .md)",name:"file",onChange:y,type:"file"}),!b&&(0,a.jsx)(x.Z,{color:"info",title:"This will replace your current content."}),(0,a.jsx)(n.x8,{asChild:!0,children:(0,a.jsx)("button",{className:"hover:bg-gray-100 hover:dark:bg-slate-300 text-gray-700 dark:text-slate-300 hover:text-gray-800 hover:dark:text-slate-600 absolute top-[0px] p-1 right-[10px] inline-flex appearance-none items-center justify-center rounded-full focus:shadow-sm focus:outline-none","aria-label":"Close",children:(0,a.jsx)(l.Z,{size:15,stroke:1.5})})})]})]})})}},23168:function(e,t,r){r.d(t,{L:function(){return a}});let a="prose dark:prose-invert prose-slate prose-p:leading-6 prose-p:tracking-tight prose-blockquote:leading-6 prose-headings:font-editorHeadings font-editor whitespace-pre-wrap dark:prose-headings:text-slate-100"},57355:function(e,t,r){r.d(t,{Z:function(){return n}});var a=r(40318),s=r(64090);function n(e){let t=(0,s.useMemo)(()=>{let{from:t,to:r,empty:s}=e;if(s&&t===r){let t=(0,a.Kk)(e=>!0)(e);if(t&&""===(0,a.Q)(t.node).trim())return!0}return!1},[e]),r=(0,s.useMemo)(()=>t&&1===e.from,[t,e.from]);return{isEmptyBlock:t,isInitialEmptyBlock:r}}},27158:function(e,t,r){r.d(t,{Z:function(){return d},m:function(){return o}});var a=r(75934),s=r(43630),n=r(3444),l=r(19337),i=r(71126);function o(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],{data:t}=(0,i.useSession)(),{customerDetails:r}=(0,a.Z)(),o=new Date("2024-11-25T00:00:00Z"),d=new Date("2024-12-04T05:00:00Z"),c=new Date;return(e||t)&&(null==r?void 0:r.status)!==s.WE.Customer&&(0,n.Z)(c,o)&&(0,l.Z)(c,d)}function d(){let{data:e}=(0,i.useSession)();return e&&(0,l.Z)(new Date,new Date("2024-11-12"))}},12192:function(e,t,r){var a=r(3827);r(64090);var s=r(99584),n=r(89461),l=r(34890),i=r(11175),o=r(8792);t.Z=()=>(0,a.jsx)(s.zt,{delayDuration:100,children:(0,a.jsxs)(s.fC,{children:[(0,a.jsx)(s.xz,{asChild:!0,children:(0,a.jsx)(n.Z,{buttonSize:"sm",buttonVariant:"link",Icon:l.Z})}),(0,a.jsx)(s.h_,{children:(0,a.jsxs)(s.VY,{align:"start",className:"flex flex-col space-y-2 bg-white dark:bg-slate-600 dark:text-slate-300 shadow-lg p-2 text-sm items-baseline border border-gray-300 dark:border-gray-500 rounded z-20 w-96 origin-top data-[state=open]:animate-scale-in data-[state=closed]:animate-scale-out",side:"left",children:[(0,a.jsx)(i.Z,{children:"What is readability?"}),(0,a.jsx)("p",{children:"Hemingway Editor measures readability using grade levels. The lower the grade level, the more understandable your prose is. Grade 9 is the adult average. But, low grade levels do not make your writing childish. Instead, they show that complexity isn't getting in the way of your message. You don't have to fix every highlight. Fix only as many as you need to make the writing more clear."}),(0,a.jsx)(o.default,{href:"/help#readability",children:(0,a.jsx)(n.Z,{buttonVariant:"link",buttonSize:"sm",children:"Learn more"})}),(0,a.jsx)(s.Eh,{className:"fill-gray-400"})]})})]})})},48065:function(e,t,r){r.d(t,{A:function(){return S},Z:function(){return T}});var a=r(3827),s=r(58140);r(64090);var n=r(4338),l=r(94794),i=r(89461),o=r(44857),d=r(11175),c=r(45357),u=r(88506),x=r(34734),h=r(89542);r(15355);var m=(0,r(13472).$)("6530a766ab5b5ede6a469b2dbae5b0bb2dd408ee");let g={[c.ReadingLevelTarget.TECHNICAL]:"Technical",[c.ReadingLevelTarget.NORMAL]:"Default (most popular)",[c.ReadingLevelTarget.ACCESSIBLE]:"Accessible"},p={[c.ReadingLevelTarget.TECHNICAL]:"Higher grade level for technical and academic writing.",[c.ReadingLevelTarget.NORMAL]:"For most audiences. Average adult reading level.",[c.ReadingLevelTarget.ACCESSIBLE]:"Lower grade level for accessibility and for young audiences."};var f=e=>{let{setting:t}=e,{pending:r}=(0,h.useFormStatus)();return(0,a.jsxs)("div",{className:"flex flex-row space-x-2 items-start",children:[(0,a.jsx)(u.ck,{id:"readability-difficulty-".concat(t),disabled:r,className:"w-5 h-5 rounded-full bg-gray-100 dark:bg-slate-200 border border-gray-200 dark:border-slate-600 shadow-sm relative disabled:opacity-50 disabled:cursor-progress",formAction:m,type:"submit",value:t,children:(0,a.jsx)(u.z$,{className:"w-3 h-3 bg-fuchsia-600 absolute top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 rounded-full"})}),(0,a.jsxs)("label",{className:(0,x.Z)("flex flex-col cursor-pointer",r&&"cursor-progress opacity-50"),htmlFor:"readability-difficulty-".concat(t),children:[(0,a.jsx)("span",{children:g[t]}),(0,a.jsx)("span",{className:"text-gray-500 dark:text-slate-400 text-sm",children:p[t]})]})]})};let b=Object.values(c.ReadingLevelTarget);var C=e=>{let{startingValue:t}=e;return(0,a.jsx)("form",{children:(0,a.jsx)(u.fC,{"aria-label":"Readability difficulty setting",className:"space-y-3 mt-4",defaultValue:t,name:"reading-level-target",children:b.map(e=>(0,a.jsx)(f,{setting:e},e))})})},v=r(45677),j=r(8289),y=e=>{let{customerDetails:t}=e,r=!t;return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(d.Z,{children:"Adjust target readability"}),(0,a.jsx)("p",{children:"Paid users of Hemingway Editor Plus can adjust the app's grading of your writing."}),(0,a.jsx)("p",{children:"Set it to â€œTechnicalâ€ to raise the target grade level for academic or technical writing. Or, set it to â€œAccessibleâ€ to reach as many readers as possible. This will lower the target grade level."}),(0,a.jsx)("a",{className:"block",href:r?"/hemingway-editor-plus":"/billing",target:"_blank",children:(0,a.jsx)(i.Z,{buttonColor:"primary",EndIcon:j.Z,children:r?"Learn more":"Upgrade plan"})})]})},w=()=>{let e=(0,n.oS)(e=>e.readingLevelTarget);return(0,a.jsxs)(l.fC,{children:[(0,a.jsx)(l.xz,{asChild:!0,children:(0,a.jsx)(i.Z,{buttonSize:"sm",buttonVariant:"outline",Icon:o.Z})}),(0,a.jsx)(l.ee,{}),(0,a.jsx)(l.h_,{children:(0,a.jsx)(l.VY,{align:"end",className:"shadow-xl border border-gray-200 dark:border-slate-600 bg-gray-100 dark:bg-slate-700 dark:text-slate-300 rounded px-6 py-4 max-w-md origin-top-right data-[state=open]:animate-scale-in data-[state=closed]:animate-scale-out",sideOffset:16,children:(0,a.jsxs)(v.Z,{fallbackElement:e=>(0,a.jsx)(y,{customerDetails:e}),requireAbilityToUseAI:!0,children:[(0,a.jsx)(d.Z,{children:"Adjust target readability"}),(0,a.jsx)(C,{startingValue:e})]})})})]})},k=r(12192),N=r(41579);let Z=e=>e===s.Co.normal?"Good":e===s.Co.hard?"OK":"Poor",S=e=>{let{readability:t,readingLevelTarget:r}=e,n=(s.hG[r]||s.hG.NORMAL).hardReadabilityLevel-1;return(0,a.jsxs)("p",{className:"text-gray-500 dark:text-slate-400 font-light",children:[(0,a.jsxs)("strong",{children:[Z(t),"."]}),t!==s.Co.normal&&" Aim for ".concat(n,".")]})};var T=e=>{let{forceReadingLevelTarget:t,forceStats:r}=e,s=(0,n.oS)(e=>e.stats),l=(0,n.oS)(e=>e.readingLevelTarget);return r&&(s=r),t&&(l=t),(0,a.jsxs)("section",{className:"pt-2",children:[(0,a.jsxs)("div",{className:"flex flex-row justify-between items-center space-x-4",children:[(0,a.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[(0,a.jsx)("h3",{className:"font-bold text-gray-800 dark:text-slate-300",children:"Readability"}),(0,a.jsx)(k.Z,{})]}),(0,a.jsx)(w,{})]}),(0,a.jsx)(N.R,{readability:s.readability,readingLevel:s.readingLevel}),(0,a.jsx)(S,{readability:s.readability,readingLevelTarget:l})]})}},41579:function(e,t,r){r.d(t,{R:function(){return i}});var a=r(3827),s=r(58140),n=r(34734);r(64090);let l=e=>e>16?"Post-graduate":"Grade ".concat(e),i=e=>{let{readability:t,readingLevel:r}=e;return(0,a.jsx)("h2",{className:(0,n.Z)("text-base sm:text-lg",t===s.Co.normal&&"text-green-800 dark:text-lime-500",t===s.Co.hard&&"text-yellow-800 dark:text-yellow-500",t===s.Co.veryHard&&"text-red-800 dark:text-red-500"),children:l(r)})}},14441:function(e,t,r){var a=r(3827),s=r(15932),n=r(58140),l=r(5534),i=r(34734);t.Z=e=>{let{canAccessGrammarCheck:t,enabledTypes:r,children:o,isLoading:d,type:c}=e,u=r[c];return(0,a.jsx)("div",{className:(0,i.Z)("group","rounded p-2",!("grammar"===c&&!t)&&!u&&"opacity-40 hover:opacity-70","grammar"===c&&s.xC,"complex"===c&&s.y$,c===n.Co.hard&&s.wB,c===n.Co.veryHard&&s.T$,(0,l.aK)(c)&&s.B7,d&&"animate-pulse"),children:o})}},48167:function(e,t,r){r.d(t,{Z:function(){return m}});var a=r(3827),s=r(58140),n=r(5534),l=r(26748),i=r(34734),o=r(21790),d=r(61937),c=r(99859),u=r(71126),x=e=>{let{canAccessGrammarCheck:t,enabledTypes:r,toggleHighlight:l,type:x}=e,{data:h}=(0,u.useSession)(),m=r[x];return(0,a.jsx)("button",{className:(0,i.Z)("inline h-fit opacity-50 group-hover:opacity-100 flex-row items-center focus:outline-none focus:ring whitespace-nowrap","grammar"===x&&"focus:ring-lime-400 dark:focus:ring-lime-600",(0,n.aK)(x)&&"focus:ring-sky-400 dark:focus:ring-sky-600","complex"===x&&"focus:ring-violet-400 dark:focus:ring-violet-600",x===s.Co.hard&&"focus:ring-yellow-400 dark:focus:ring-yellow-600",x===s.Co.veryHard&&"focus:ring-red-400 dark:focus:ring-red-600"),disabled:"grammar"===x&&!t,onClick:()=>{var e;l(x,!m),(0,o.j)({event:"Toggled highlight",properties:{type:x,newSetting:!m},userId:null==h?void 0:null===(e=h.user)||void 0===e?void 0:e.id})},children:m?(0,a.jsx)(d.Z,{className:"h-4 w-4"}):(0,a.jsx)(c.Z,{className:"h-4 w-4"})})};let h=e=>{let{count:t,sentenceCount:r,paragraphCount:a,type:n}=e,l=Math.round(a/3),i=Math.round(r/5);switch(n){case"grammar":return" spelling or grammar issue"+(1!==t?"s.":".")+(0===t?" Well done.":"");case"weakeners":return" weakener"+(1===t?"":"s")+"."+(0===t?" Nice work.":"");case"complex":return" word".concat(1===t?"":"s"," with").concat(1===t?" a":""," simpler alternative").concat(1===t?"":"s",".");case"adverb":return" adverb"+(1!==t?"s":"")+". "+(t<=l?"Well done.":"Aim for "+"".concat(l," or fewer."));case"passive":return" use"+(1===t?"":"s")+" of passive voice. "+(t<=i?"Nice work.":"Cut to "+"".concat(i," or fewer."));case"qualifier":return" qualifier".concat(1===t?"":"s",' (e.g. "I think" or "maybe").');case s.Co.hard:case s.Co.veryHard:default:return" of ".concat(r," sentences ")+(1===t?"is ":"are ")+(n===s.Co.veryHard?"very ":"")+"hard to read."}};var m=e=>{let{canAccessGrammarCheck:t,count:r,enabledTypes:o,toggleHighlight:d,paragraphCount:c,sentenceCount:u,size:m="md",type:g}=e,p="grammar"===g&&c>n.rC;return(0,a.jsxs)("div",{className:(0,i.Z)("flex flex-row space-x-1","sm"===m?"text-xs":"text-sm","grammar"===g&&"text-lime-9000 dark:text-lime-100",(0,n.aK)(g)&&"text-sky-9000 dark:text-sky-100","complex"===g&&"text-violet-900 dark:text-violet-100",g===s.Co.hard&&"text-yellow-900 dark:text-yellow-100",g===s.Co.veryHard&&"text-red-900 dark:text-red-100"),children:[(0,a.jsxs)("p",{className:"flex-1",children:[(0,a.jsx)("span",{className:(0,i.Z)("font-bold","rounded-sm","inline-flex justify-center items-center",p?"px-[2px]":"px-1",p&&"pb-[2px] mr-1 flex-row items-center","grammar"===g&&"bg-lime-400 dark:bg-lime-600",(0,n.aK)(g)&&"bg-sky-400 dark:bg-sky-600","complex"===g&&"bg-violet-400 dark:bg-violet-600",g===s.Co.hard&&"bg-yellow-400 dark:bg-yellow-600",g===s.Co.veryHard&&"bg-red-400 dark:bg-red-600"),children:p?(0,a.jsx)(l.Z,{className:"inline",size:16}):(0,a.jsx)("span",{children:r})}),p&&"Your document is too long for a grammar check.",!p&&h({count:r,paragraphCount:c,sentenceCount:u,type:g})]}),(0,a.jsx)(x,{canAccessGrammarCheck:t,enabledTypes:o,toggleHighlight:d,type:g})]})}},90965:function(e,t,r){r.d(t,{Z:function(){return n}});var a=r(37754),s=r.n(a);function n(e){return function(e){let t=e.split("\n"),r=[],a=e=>{let t=e.match(/^(\s*)\*/);return t?t[1].length:-1};for(let e=0;e<t.length;e++){let s=a(t[e]),n=e+2<t.length?a(t[e+2]):-1,l=-1!==s,i=void 0!==t[e+1]&&""===t[e+1].trim(),o=-1!==n;l&&i&&o?(r.push(t[e]),e++):r.push(t[e])}return r.join("\n")}(s()(e))}},83239:function(e,t,r){r.d(t,{KH:function(){return h},Qc:function(){return x},fQ:function(){return u}});var a=r(32009),s=r(49975),n=r(99604),l=r.n(n),i=r(90965);let o=e=>{let{editor:t,from:r,to:a}=e,n=t.state.doc.slice(r,a),l=t.schema,i=s.PW.fromSchema(l).serializeFragment(n.content),o=document.createElement("div");return o.appendChild(i),o.innerHTML},d=e=>(0,i.Z)(e),c=e=>a.TU.parse(e),u=e=>{let{editor:t,from:r,to:a}=e;return d(o({editor:t,from:r,to:a}))},x=e=>l()(c(e),{whiteList:{...n.whiteList,span:["class"]}}).replace(/\n/g,""),h=e=>{let{editor:t,from:r,text:a,to:s}=e,n=a.includes("\n")?x(a):a;t.chain().deleteRange({from:r,to:s}).insertContentAt(r,n,{parseOptions:{preserveWhitespace:!0},updateSelection:!0}).focus().run()}},65073:function(e,t,r){r.d(t,{E:function(){return a}});let a=(0,r(22020).Ue)()((e,t)=>({isShowingContinueWritingDialog:!1,showContinueWritingDialog:()=>e({isShowingContinueWritingDialog:!0}),hideContinueWritingDialog:()=>e({isShowingContinueWritingDialog:!1}),rewriteDialogType:null,showRewriteDialog:t=>e({rewriteDialogType:t}),hideRewriteDialog:()=>e({rewriteDialogType:null}),customUserPrompt:"",setCustomUserPrompt:t=>e({customUserPrompt:t}),feedback:"",setFeedback:t=>e({feedback:t})}))},80170:function(e,t,r){r.d(t,{X:function(){return a}});let a=(0,r(22020).Ue)(e=>({isTrialTutorialOpen:!1,openTrialTutorial:()=>e({isTrialTutorialOpen:!0}),closeTrialTutorial:()=>e({isTrialTutorialOpen:!1}),isFreeUserTutorialOpen:!1,openFreeUserTutorial:()=>e({isFreeUserTutorialOpen:!0}),closeFreeUserTutorial:()=>e({isFreeUserTutorialOpen:!1})}))},22600:function(e,t,r){var a=r(3827),s=r(26738),n=r(38539),l=r(68690),i=r(51071),o=r(34734);r(64090);var d=r(11175);t.Z=e=>{let{color:t,children:r,className:c,title:u}=e,x="error"===t?s.Z:"info"===t?n.Z:"primary"===t?l.Z:i.Z;return(0,a.jsx)("div",{className:(0,o.Z)("rounded-md px-4 py-2","error"===t&&"bg-red-200 dark:bg-red-900","info"===t&&"bg-sky-200 dark:bg-sky-900","success"===t&&"bg-green-200 dark:bg-green-900","primary"===t&&"bg-fuchsia-200 dark:bg-fuchsia-900",c),children:(0,a.jsxs)("div",{className:(0,o.Z)("flex",!r&&"items-center"),children:[(0,a.jsx)("div",{className:"flex-shrink-0",children:(0,a.jsx)(x,{className:(0,o.Z)("h-4 w-4",r&&"mt-1","error"===t&&"text-red-700 dark:text-red-200","info"===t&&"text-sky-700 dark:text-sky-200","success"===t&&"text-green-700 dark:text-green-200","primary"===t&&"text-fuchsia-700 dark:text-fuchsia-200"),"aria-hidden":"true"})}),(0,a.jsxs)("div",{className:"ml-3",children:[(0,a.jsx)(d.Z,{textWeightClassName:r?"font-semibold":"font-medium",textColorClassName:(0,o.Z)("error"===t&&"text-red-800 dark:text-red-100","info"===t&&"text-sky-800 dark:text-sky-100","success"===t&&"text-green-800 dark:text-green-100","primary"===t&&"text-fuchsia-800 dark:text-fuchsia-100"),textSizeClassName:(0,o.Z)(r?"text-base":"text-sm"),children:u}),r&&(0,a.jsx)("div",{className:(0,o.Z)("mt-2 text-sm","error"===t&&"text-red-700 dark:text-red-200","info"===t&&"text-sky-700 dark:text-sky-200","success"===t&&"text-green-700 dark:text-green-200","primary"===t&&"text-fuchsia-700 dark:text-fuchsia-200"),children:r})]})]})})}},80612:function(e,t,r){var a=r(3827),s=r(34734);r(64090),t.Z=e=>{let{children:t,className:r,color:n="secondary",Icon:l,size:i="md",variant:o="filled"}=e;return(0,a.jsxs)("span",{className:(0,s.Z)("flex flex-row space-x-1 items-center w-fit rounded","primary"===n&&"filled"===o&&"text-fuchsia-50 bg-fuchsia-700","secondary"===n&&"filled"===o&&"text-gray-800 bg-gray-300","error"===n&&"filled"===o&&"text-red-50 bg-red-700","primary"===n&&"outline"===o&&"text-fuchsia-600 dark:text-fuchsia-400 border border-fuchsia-600 dark:border-fuchsia-400","secondary"===n&&"outline"===o&&"text-gray-700 dark:text-gray-300 border border-gray-700 dark:border-gray-300","error"===n&&"outline"===o&&"text-red-600 dark:text-red-400 border border-red-600 dark:border-red-400","xs"===i&&"px-1 py-0 text-xs","sm"===i&&"px-1 py-1 text-sm","md"===i&&"px-2 py-1 text-base","lg"===i&&"px-3 py-2 text-lg",r),children:[l&&(0,a.jsx)(l,{className:(0,s.Z)("xs"===i?"h-3 w-3":"sm"===i?"h-4 w-4":"h-5 w-5"),size:"xs"===i||"sm"===i?12:16}),(0,a.jsx)("span",{children:t})]})}},47578:function(e,t,r){var a=r(3827);r(64090),t.Z=e=>{let{key:t,label:r,name:s,...n}=e;return(0,a.jsxs)("fieldset",{className:"w-full",children:[(0,a.jsx)("label",{className:"block text-sm font-semibold text-gray-700 dark:text-slate-400",htmlFor:s,children:r}),(0,a.jsx)("input",{className:"block w-full shadow-sm border border-gray-300 rounded-md px-2 py-2 mt-1 bg-white dark:bg-slate-600 text-gray-800 dark:text-slate-50",id:s,name:s,...n})]},t)}},15438:function(e,t,r){var a=r(3827),s=r(34734);r(64090),t.Z=e=>{let{className:t,fillOverride:r}=e;return(0,a.jsxs)("svg",{className:t,viewBox:"0 0 1281 288",version:"1.1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",children:[(0,a.jsx)("title",{children:"Hemingway Editor logo"}),(0,a.jsx)("defs",{}),(0,a.jsx)("g",{id:"Logo-Container",stroke:"none",strokeWidth:"1",fill:"none",fillRule:"evenodd",className:(0,s.Z)(r||"fill-gray-900 dark:fill-slate-100"),children:(0,a.jsxs)("g",{id:"Logo",children:[(0,a.jsx)("path",{d:"M133.82,96.58 C144.74,96.58 144.74,96.84 144.74,104.12 L144.74,141.56 C144.74,165.74 143.44,168.34 131.48,169.9 L125.76,170.68 C123.68,172.24 123.68,178.22 125.76,179.78 C138.24,179.26 150.98,179 163.98,179 C175.94,179 188.68,179.26 201.68,179.78 C203.76,178.22 203.76,172.24 201.68,170.68 L195.44,169.64 C183.48,167.56 181.92,165.74 181.92,141.56 L181.92,44.84 C181.92,20.66 183.48,18.32 195.44,16.5 L200.64,15.72 C202.72,14.16 202.72,8.18 200.64,6.62 C188.68,7.14 176.72,7.4 163.98,7.4 C151.5,7.4 138.76,7.14 124.46,6.62 C122.38,8.18 122.38,14.16 124.46,15.72 L131.48,16.76 C143.44,18.58 144.74,20.66 144.74,44.84 L144.74,75 C144.74,82.54 144.74,82.8 133.82,82.8 L79.74,82.8 C69.08,82.8 68.82,82.54 68.82,75 L68.82,44.84 C68.82,20.66 70.38,18.06 81.56,16.5 L87.02,15.72 C89.1,14.16 89.1,8.18 87.02,6.62 C75.58,7.14 62.58,7.4 50.88,7.4 C38.4,7.4 24.88,7.14 12.14,6.62 C10.06,8.18 10.06,14.16 12.14,15.72 L18.38,16.5 C30.34,18.06 31.64,20.66 31.64,44.84 L31.64,141.56 C31.64,165.74 30.34,168.34 18.38,169.9 L12.14,170.68 C10.06,172.24 10.06,178.22 12.14,179.78 C25.4,179.26 38.4,179 50.88,179 C62.58,179 75.58,179.26 90.4,179.78 C92.48,178.22 92.48,172.24 90.4,170.68 L82.08,169.64 C70.38,168.08 68.82,165.74 68.82,141.56 L68.82,104.12 C68.82,96.84 69.08,96.58 79.74,96.58 L133.82,96.58 Z M298.28,117.38 C306.34,117.38 307.64,113.74 307.64,108.8 C307.64,88.78 293.08,71.36 266.04,71.36 C233.54,71.36 209.88,96.84 209.88,129.6 C209.88,157.94 228.86,182.64 263.96,182.64 C279.56,182.64 298.8,175.1 309.46,153 C309.46,148.58 305.56,146.5 302.7,147.02 C295.68,158.98 285.8,160.54 278.52,160.54 C254.34,160.54 241.86,141.56 241.86,122.06 C241.86,117.9 242.38,117.38 248.36,117.38 L298.28,117.38 Z M252.9,105.94 C244.58,105.94 240.94,105.68 240.94,102.04 C240.94,93.72 250.3,83.32 261.22,83.32 C270.06,83.32 275,89.04 275,97.62 C275,100.22 274.48,102.82 273.18,103.6 C270.32,105.42 266.16,105.94 262.52,105.94 L252.9,105.94 Z M329.6,148.84 C329.6,167.04 328.56,169.12 319.98,170.16 L315.82,170.68 C313.74,172.24 313.74,178.22 316.34,179.78 C324.14,179.26 334.28,179 345.98,179 C358.46,179 366.78,179.26 374.84,179.78 C377.18,178.22 377.18,172.24 375.1,170.68 L370.94,170.16 C364.44,169.38 363.4,167.04 363.4,152.74 L363.4,106.2 C363.4,101.52 363.92,98.4 365.48,96.58 C367.56,93.72 372.76,90.34 379.52,90.34 C392,90.34 397.2,98.66 397.2,108.54 L397.2,152.74 C397.2,167.04 396.16,169.38 390.18,170.16 L386.02,170.68 C383.94,172.24 383.94,178.22 386.28,179.78 C393.04,179.26 403.44,179 413.84,179 C425.54,179 433.86,179.26 441.92,179.78 C444.26,178.22 444.26,172.24 442.18,170.68 L438.02,170.16 C432.04,169.38 431,167.04 431,152.74 L431,104.64 C431,101 431.78,98.4 432.82,96.84 C434.64,93.72 440.1,90.34 447.38,90.34 C459.34,90.34 464.8,98.66 464.8,108.54 L464.8,152.74 C464.8,167.04 463.76,169.38 457.26,170.16 L453.1,170.68 C451.02,172.24 451.02,178.22 453.36,179.78 C460.38,179.26 471.3,179 481.7,179 C494.18,179 504.06,179.26 512.12,179.78 C514.46,178.22 514.46,172.24 512.38,170.68 L508.22,170.16 C499.64,169.12 498.6,167.04 498.6,148.84 L498.6,104.12 C498.6,86.18 487.68,71.36 467.14,71.36 C453.1,71.36 443.22,78.38 437.5,81.5 C432.56,84.1 430.22,85.92 429.18,85.92 C427.62,85.92 426.06,84.88 422.94,81.24 C416.96,74.48 408.9,71.36 399.54,71.36 C387.06,71.36 375.36,78.38 369.64,81.76 C368.08,82.54 365.48,83.84 364.7,83.84 C363.92,83.84 363.4,83.32 363.4,81.76 C363.4,79.94 364.18,73.7 364.18,70.06 C363.14,68.5 361.58,67.72 359.5,67.72 C351.44,72.4 332.98,79.42 321.02,82.8 C319.2,84.36 319.2,89.04 321.02,90.6 L324.66,92.94 C329.6,96.06 329.6,99.18 329.6,109.58 L329.6,148.84 Z M572.96,101 C572.96,89.3 573.22,77.86 573.74,70.06 C572.7,68.5 571.14,67.72 569.06,67.72 C561.26,72.4 542.8,79.42 530.58,82.8 C528.76,84.36 528.76,89.04 530.58,90.6 L534.22,92.94 C539.16,96.06 539.16,99.18 539.16,109.58 L539.16,148.84 C539.16,167.04 538.12,169.38 529.54,170.16 L524.6,170.68 C522.52,172.24 522.52,178.22 524.86,179.78 C533.44,179.26 544.36,179 556.06,179 C568.02,179 578.16,179.26 587.26,179.78 C589.6,178.22 589.6,172.24 587.52,170.68 L582.58,170.16 C574,169.38 572.96,167.04 572.96,148.84 L572.96,101 Z M556.84,12.86 C546.44,12.86 537.34,20.4 537.34,31.84 C537.34,42.5 544.1,50.3 555.54,50.3 C565.42,50.3 575.04,43.8 575.04,31.32 C575.04,20.92 567.76,12.86 556.84,12.86 L556.84,12.86 Z M613.52,148.84 C613.52,167.04 612.48,169.12 603.12,170.16 L598.96,170.68 C596.88,172.24 596.88,178.22 599.22,179.78 C608.32,179.26 618.98,179 629.9,179 C642.38,179 650.7,179.26 658.76,179.78 C661.1,178.22 661.1,172.24 659.02,170.68 L654.86,170.16 C648.36,169.38 647.32,167.04 647.32,152.74 L647.32,106.2 C647.32,101.52 647.84,98.4 649.4,96.58 C651.48,93.72 656.68,90.34 663.96,90.34 C676.96,90.34 682.16,98.66 682.16,108.8 L682.16,152.74 C682.16,167.04 681.12,168.86 675.14,169.9 L670.46,170.68 C668.38,172.24 668.38,178.22 670.72,179.78 C678.26,179.26 688.4,179 698.8,179 C711.28,179 722.2,179.26 730.26,179.78 C732.6,178.22 732.6,172.24 730.52,170.68 L726.36,170.16 C717,169.12 715.96,167.04 715.96,148.84 L715.96,104.12 C715.96,86.18 705.04,71.36 683.46,71.36 C671.5,71.36 659.28,78.38 653.56,81.76 C652,82.54 649.4,83.84 648.62,83.84 C647.84,83.84 647.32,83.32 647.32,81.76 C647.32,79.94 648.1,73.7 648.1,70.06 C647.06,68.5 645.5,67.72 643.42,67.72 C635.88,72.4 617.16,79.42 604.94,82.8 C603.12,84.36 603.12,89.04 604.94,90.6 L608.58,92.94 C613.52,96.06 613.52,99.18 613.52,109.58 L613.52,148.84 Z M832.7,80.98 C823.08,75.78 809.3,71.36 793.96,71.36 C760.16,71.36 743.26,91.64 743.26,113.22 C743.26,129.08 752.36,141.56 765.36,146.76 C766.66,149.1 765.62,150.66 763.28,152.48 C761.72,154.04 753.92,160.02 746.64,164.7 C745.34,166 744.82,168.08 744.82,170.16 C744.82,179.26 751.32,187.84 760.94,190.96 C763.02,191.48 763.8,192.78 760.68,194.6 C757.82,196.16 753.14,199.54 747.94,202.66 C743.52,205.26 739.62,209.42 739.62,215.66 C739.62,231.78 753.14,248.94 790.58,248.94 C805.66,248.94 822.56,245.56 836.08,237.5 C849.6,229.18 859.48,214.62 859.48,198.24 C859.48,171.98 838.68,166.78 819.18,166.78 C806.96,166.78 796.3,167.3 787.46,167.3 C779.66,167.3 774.2,163.66 774.2,157.94 C774.2,154.82 776.02,152.74 778.62,151.7 C781.48,151.96 785.12,152.48 789.28,152.48 C830.36,152.48 842.58,127.52 842.58,106.98 C842.58,102.56 842.32,100.22 841.8,97.88 L861.04,97.88 C863.64,96.32 864.94,91.64 864.94,87.48 C864.94,84.62 864.42,82.54 862.6,80.98 L832.7,80.98 Z M777.06,108.8 C777.06,91.12 784.86,83.32 792.92,83.32 C802.28,83.32 809.82,93.2 809.82,114.26 C809.82,133.24 803.06,140.78 795,140.78 C784.6,140.78 777.06,128.56 777.06,108.8 L777.06,108.8 Z M806.7,193.56 C821,193.56 832.18,199.54 832.18,214.62 C832.18,227.1 821.26,235.16 804.88,235.16 C784.34,235.16 771.08,223.72 771.08,206.04 C771.08,202.66 772.12,199.28 774.72,196.94 C777.06,195.12 782.26,193.56 789.28,193.56 L806.7,193.56 Z M897.08,75 C886.16,75 877.84,74.74 867.18,74.22 C864.58,75.52 864.58,81.24 866.4,83.32 L871.08,84.62 C875.5,85.92 878.1,86.96 881.74,94.5 C894.48,121.54 907.22,151.44 919.7,180.82 C921.26,182.38 923.08,182.64 925.68,182.64 C928.28,182.64 930.1,182.38 931.66,180.82 C937.64,167.82 953.24,133.24 960,119.72 C967.8,136.36 981.32,166.78 986.78,180.82 C988.34,182.38 990.16,182.64 992.76,182.64 C995.36,182.64 997.18,182.38 998.74,180.82 C1009.66,153.26 1021.62,124.66 1033.58,98.14 C1037.74,88.52 1039.56,85.92 1048.14,84.1 L1051.78,83.32 C1053.86,80.98 1053.34,75.26 1051,74.22 C1045.28,74.74 1038.52,75 1030.98,75 C1024.48,75 1018.24,74.74 1009.66,74.22 C1007.06,75.26 1007.06,81.5 1008.62,83.32 L1013.04,84.36 C1017.46,85.4 1019.54,86.7 1019.54,88 C1019.54,89.82 1018.76,93.46 1017.2,98.14 C1013.04,110.1 1008.88,122.84 1002.64,137.92 C996.92,125.44 989.64,108.54 984.96,96.06 C983.4,91.64 982.88,90.08 982.88,88 C982.88,86.7 986.52,85.4 992.5,84.1 L996.4,83.32 C998.22,82.28 998.48,74.48 995.62,74.22 C978.98,74.74 965.98,75 949.6,75 L897.08,75 Z M943.2,99.18 C943.2,101.26 943.2,103.6 942.42,106.98 C941.12,112.18 932.28,130.9 928.64,137.92 C924.22,129.6 913.82,106.2 910.18,97.1 C908.62,93.2 907.84,90.08 907.84,88.52 C907.84,85.66 912.78,84.62 921.1,84.62 C925.78,84.62 929.94,84.88 933.58,85.66 C938.78,86.7 943.2,95.02 943.2,99.18 L943.2,99.18 Z M1137.82,109.06 C1139.12,82.28 1126.38,71.36 1104.54,71.36 C1086.08,71.36 1069.7,80.2 1060.86,87.22 C1054.62,92.16 1048.38,100.48 1048.38,107.24 C1048.38,110.88 1049.94,113.74 1054.36,113.74 C1059.04,113.74 1069.18,110.62 1073.08,107.76 C1075.42,105.94 1076.98,103.6 1077.5,99.44 C1079.32,88.26 1084.78,84.62 1091.02,84.62 C1102.2,84.62 1106.1,97.1 1106.1,106.98 C1106.1,110.1 1105.84,112.96 1105.58,115.82 C1105.32,117.9 1104.02,119.72 1099.34,121.02 C1092.06,123.1 1084.78,125.18 1074.9,128.3 C1055.92,134.02 1047.86,142.08 1047.86,155.34 C1047.86,173.54 1061.9,182.64 1076.98,182.64 C1086.6,182.64 1094.4,177.7 1099.08,174.32 C1101.68,172.5 1103.24,171.46 1104.54,171.46 C1105.84,171.46 1106.88,171.98 1108.7,173.54 C1115.72,179.52 1121.44,182.64 1130.54,182.64 C1145.36,182.64 1157.58,172.76 1160.7,168.6 C1161.48,166.26 1159.92,163.14 1157.58,162.62 C1153.42,164.96 1150.82,165.74 1147.7,165.74 C1142.5,165.74 1134.96,161.06 1136,143.38 L1137.82,109.06 Z M1101.28,153 C1101.02,161.06 1099.46,165.74 1091.4,165.74 C1084.12,165.74 1078.14,158.46 1078.14,150.14 C1078.14,137.92 1088.28,133.5 1099.98,131.94 C1101.8,131.68 1102.06,132.46 1101.8,136.62 L1101.28,153 Z M1150.84,84.1 C1159.16,85.4 1161.5,90.08 1166.44,102.56 L1191.4,165.48 C1195.56,176.14 1196.34,181.08 1196.34,184.46 C1196.34,187.58 1194.26,192.26 1192.7,195.38 C1190.1,200.84 1188.02,205.78 1185.16,209.68 C1182.56,213.06 1178.66,215.14 1172.42,215.14 L1166.18,215.14 C1157.08,215.14 1151.36,220.86 1151.36,228.66 C1151.36,235.68 1153.96,244.52 1168,244.26 C1177.62,244 1184.9,238.8 1190.36,227.1 L1229.88,145.2 L1243.66,116.86 C1249.38,104.9 1255.88,93.72 1259,89.56 C1261.34,86.44 1265.76,84.36 1270.96,83.84 L1275.9,83.32 C1278.24,81.76 1277.98,75.26 1275.38,74.22 C1268.62,74.74 1261.86,75 1255.1,75 C1243.4,75 1235.6,74.74 1229.88,74.22 C1227.02,75 1226.76,81.5 1229.1,83.32 L1234.3,84.36 C1237.42,84.88 1240.02,86.18 1240.02,88 C1240.02,90.86 1235.86,101.78 1230.4,114.26 L1225.72,124.92 C1223.12,130.64 1220.52,136.62 1217.66,142.08 C1214.54,135.58 1208.82,119.72 1205.96,112.44 C1201.02,99.18 1198.16,92.42 1198.16,89.3 C1198.16,86.96 1198.68,85.92 1205.96,84.36 L1211.16,83.32 C1213.24,81.5 1212.98,75.26 1210.38,74.22 C1200.76,74.74 1190.88,75 1181.26,75 C1167.48,75 1156.3,74.74 1146.94,74.22 C1144.34,75.26 1144.34,81.5 1146.16,83.32 L1150.84,84.1 Z",id:"Hemingway"}),(0,a.jsx)("path",{d:"M908.035156,216.132812 C916.750044,216.132812 922.979148,216.04297 926.722656,215.863281 C925.105461,220.265647 923.937504,223.889309 923.21875,226.734375 C922.889321,228.111986 922.500002,230.01366 922.050781,232.439453 L920.029297,232.439453 C920.119141,231.271479 920.164062,230.178391 920.164062,229.160156 C920.164062,226.374986 919.827152,224.173836 919.15332,222.556641 C918.479489,220.939445 917.401375,219.771488 915.918945,219.052734 C914.436516,218.333981 912.422539,217.974609 909.876953,217.974609 L907.046875,217.974609 C904.890614,217.974609 903.273443,218.154295 902.195312,218.513672 C901.117182,218.873049 900.256188,219.569331 899.612305,220.602539 C898.968421,221.635747 898.347008,223.305327 897.748047,225.611328 L891.998047,247.308594 L895.367188,247.308594 C898.42189,247.308594 900.982412,246.237966 903.048828,244.09668 C905.115245,241.955393 906.74739,239.357437 907.945312,236.302734 L910.101562,236.302734 C909.382809,238.399099 908.821291,240.166008 908.416992,241.603516 C908.012693,243.041023 907.660809,244.366205 907.361328,245.579102 C907.061847,246.791998 906.83724,247.68294 906.6875,248.251953 C905.938798,250.977227 905.04037,254.96026 903.992188,260.201172 L901.970703,260.201172 C902.030599,259.362626 902.060547,258.703778 902.060547,258.224609 C902.060547,252.1751 899.485052,249.150391 894.333984,249.150391 L891.503906,249.150391 L885.619141,271.251953 C885.050127,273.288422 884.765625,274.785802 884.765625,275.744141 C884.765625,276.612635 884.967771,277.271482 885.37207,277.720703 C885.776369,278.169924 886.405269,278.476887 887.258789,278.641602 C888.112309,278.806316 889.302727,278.888672 890.830078,278.888672 L894.244141,278.888672 C897.598324,278.888672 900.405913,278.372075 902.666992,277.338867 C904.928071,276.305659 906.949535,274.628592 908.731445,272.307617 C910.513355,269.986642 912.317699,266.744812 914.144531,262.582031 L916.255859,262.582031 C915.597002,264.199227 914.923181,266.415351 914.234375,269.230469 C913.276037,272.46486 912.467451,276.387998 911.808594,281 C907.645813,280.820312 900.697965,280.730469 890.964844,280.730469 C877.69785,280.730469 867.725294,280.820312 861.046875,281 L861.496094,279.158203 C863.712251,279.068359 865.35937,278.828778 866.4375,278.439453 C867.51563,278.050128 868.384111,277.331385 869.042969,276.283203 C869.701826,275.235021 870.3457,273.557954 870.974609,271.251953 L883.103516,225.611328 C883.612633,223.664704 883.867188,222.182297 883.867188,221.164062 C883.867188,220.265621 883.665041,219.576825 883.260742,219.097656 C882.856443,218.618487 882.227543,218.281576 881.374023,218.086914 C880.520504,217.892252 879.300138,217.764974 877.712891,217.705078 L878.162109,215.863281 C884.840528,216.04297 894.798111,216.132812 908.035156,216.132812 Z M971.824219,266.085938 L969.623047,272.824219 C968.48502,276.298194 966.822928,278.746412 964.636719,280.168945 C962.45051,281.591478 960.054701,282.302734 957.449219,282.302734 C953.645814,282.302734 951.220057,280.880223 950.171875,278.035156 C949.692706,277.04687 949.453125,275.78907 949.453125,274.261719 C949.453125,272.374991 949.82747,270.173841 950.576172,267.658203 L950.666016,267.253906 C948.330066,272.46487 945.851901,276.275704 943.231445,278.686523 C940.61099,281.097343 937.503924,282.302734 933.910156,282.302734 C930.675765,282.302734 928.040375,281.22462 926.003906,279.068359 C923.967438,276.912099 922.949219,273.69273 922.949219,269.410156 C922.949219,264.468725 924.236966,259.06318 926.8125,253.193359 C929.388034,247.323538 933.011695,242.352234 937.683594,238.279297 C942.355492,234.20636 947.65622,232.169922 953.585938,232.169922 C956.460952,232.169922 958.332678,233.203115 959.201172,235.269531 L963.333984,219.636719 C963.633465,218.52864 963.783203,217.675133 963.783203,217.076172 C963.783203,215.848301 963.304041,214.95736 962.345703,214.40332 C961.387365,213.849281 959.785167,213.572266 957.539062,213.572266 L958.123047,211.640625 C962.345724,211.610677 966.179019,211.281253 969.623047,210.652344 C973.067075,210.023434 976.406234,209.095058 979.640625,207.867188 L961.582031,273.183594 C961.252603,274.231776 961.087891,275.070309 961.087891,275.699219 C961.087891,277.07683 961.686843,277.765625 962.884766,277.765625 C963.813156,277.765625 964.734045,277.241542 965.647461,276.193359 C966.560877,275.145177 967.511714,273.258477 968.5,270.533203 L970.072266,266.085938 L971.824219,266.085938 Z M954.888672,234.28125 C952.28319,234.28125 949.535496,236.160463 946.645508,239.918945 C943.755519,243.677428 941.352223,248.446586 939.435547,254.226562 C937.518871,260.006539 936.560547,265.71156 936.560547,271.341797 C936.560547,273.498058 936.792641,275.092768 937.256836,276.125977 C937.721031,277.159185 938.477208,277.675781 939.525391,277.675781 C940.723313,277.675781 942.160799,276.78484 943.837891,275.00293 C945.514982,273.22102 947.251944,270.600603 949.048828,267.141602 C950.845712,263.6826 952.477857,259.602237 953.945312,254.900391 L958.572266,237.515625 C957.973304,235.359364 956.745452,234.28125 954.888672,234.28125 Z M993.319336,213.90918 C994.142908,212.606439 995.265943,211.610681 996.688477,210.921875 C998.11101,210.233069 999.70572,209.888672 1001.47266,209.888672 C1003.65887,209.888672 1005.34342,210.390294 1006.52637,211.393555 C1007.70932,212.396815 1008.30078,213.796866 1008.30078,215.59375 C1008.30078,217.210946 1007.87403,218.663405 1007.02051,219.951172 C1006.16699,221.238939 1005.014,222.242184 1003.56152,222.960938 C1002.10904,223.679691 1000.49936,224.039062 998.732422,224.039062 C996.636057,224.039062 995.003912,223.552414 993.835938,222.579102 C992.667963,221.605789 992.083984,220.280607 992.083984,218.603516 C992.083984,216.776684 992.495764,215.211921 993.319336,213.90918 Z M989.208984,238.458984 C989.208984,237.261062 988.669927,236.662109 987.591797,236.662109 C986.483718,236.662109 985.465499,237.223627 984.537109,238.34668 C983.608719,239.469732 982.665369,241.333971 981.707031,243.939453 L979.865234,248.611328 L978.113281,248.611328 L980.71875,241.603516 C982.934907,235.314422 987.187469,232.169922 993.476562,232.169922 C996.321629,232.169922 998.388014,232.85123 999.675781,234.213867 C1000.96355,235.576504 1001.60742,237.365874 1001.60742,239.582031 C1001.60742,241.289071 1001.26302,243.100902 1000.57422,245.017578 L990.916016,273.183594 C990.556639,274.261724 990.376953,275.145179 990.376953,275.833984 C990.376953,277.121751 990.990879,277.765625 992.21875,277.765625 C993.14714,277.765625 994.075516,277.249029 995.003906,276.21582 C995.932296,275.182612 996.935541,273.288425 998.013672,270.533203 L999.630859,266.085938 L1001.38281,266.085938 L999.001953,272.824219 C996.845692,279.143261 992.712921,282.302734 986.603516,282.302734 C981.033175,282.302734 978.248047,279.772161 978.248047,274.710938 C978.248047,272.644521 978.697261,270.293633 979.595703,267.658203 L988.625,241.244141 C989.014325,240.16601 989.208984,239.237634 989.208984,238.458984 Z M1020.25,275.025391 C1020.25,276.852223 1021.1634,277.765625 1022.99023,277.765625 C1024.3379,277.765625 1025.64062,277.106777 1026.89844,275.789062 C1028.15626,274.471348 1029.27929,272.494805 1030.26758,269.859375 L1031.66016,266.085938 L1033.41211,266.085938 L1031.57031,271.431641 C1029.11457,278.679073 1024.50264,282.302734 1017.73438,282.302734 C1014.61978,282.302734 1012.27638,281.486662 1010.7041,279.854492 C1009.13183,278.222323 1008.3457,275.998712 1008.3457,273.183594 C1008.3457,271.596346 1008.63021,269.754568 1009.19922,267.658203 L1018.45312,235.539062 L1010.09766,235.539062 L1010.5918,233.697266 L1018.99219,233.697266 L1022.99023,219.726562 C1028.29104,219.636718 1032.73826,219.202478 1036.33203,218.423828 L1031.92969,233.697266 L1042.30664,233.697266 L1042.03711,235.539062 L1031.39062,235.539062 L1020.51953,273.183594 C1020.33984,273.842451 1020.25,274.456377 1020.25,275.025391 Z M1042.46387,251.374023 C1044.75489,245.938449 1048.15395,241.378925 1052.66113,237.695312 C1057.16832,234.0117 1062.5514,232.169922 1068.81055,232.169922 C1073.60224,232.169922 1077.28579,233.457669 1079.86133,236.033203 C1082.43686,238.608737 1083.72461,242.367163 1083.72461,247.308594 C1083.72461,252.369817 1082.57911,257.618137 1080.28809,263.053711 C1077.99706,268.489285 1074.59052,273.056297 1070.06836,276.754883 C1065.5462,280.453469 1060.15563,282.302734 1053.89648,282.302734 C1049.13474,282.302734 1045.46616,281.0075 1042.89062,278.416992 C1040.31509,275.826484 1039.02734,272.060572 1039.02734,267.119141 C1039.02734,262.057917 1040.17284,256.809597 1042.46387,251.374023 Z M1060.88184,240.50293 C1058.20148,244.860373 1055.94044,250.206023 1054.09863,256.540039 C1052.25683,262.874055 1051.33594,268.751275 1051.33594,274.171875 C1051.33594,276.388032 1051.59049,277.990229 1052.09961,278.978516 C1052.60873,279.966802 1053.40234,280.460938 1054.48047,280.460938 C1056.72657,280.460938 1059.18228,278.342144 1061.84766,274.104492 C1064.51303,269.866841 1066.76659,264.611034 1068.6084,258.336914 C1070.4502,252.062794 1071.37109,246.095731 1071.37109,240.435547 C1071.37109,238.009753 1071.12403,236.3252 1070.62988,235.381836 C1070.13574,234.438472 1069.37956,233.966797 1068.36133,233.966797 C1066.05533,233.966797 1063.56219,236.145486 1060.88184,240.50293 Z M1114.02441,238.683594 C1115.56674,236.347645 1117.20637,234.678065 1118.94336,233.674805 C1120.68035,232.671544 1122.67186,232.169922 1124.91797,232.169922 C1127.25392,232.169922 1129.08072,232.858717 1130.39844,234.236328 C1131.71615,235.613939 1132.375,237.395822 1132.375,239.582031 C1132.375,241.289071 1131.99317,242.876295 1131.22949,244.34375 C1130.46582,245.811205 1129.41016,246.979162 1128.0625,247.847656 C1126.71484,248.71615 1125.23243,249.150391 1123.61523,249.150391 C1121.81835,249.150391 1120.43327,248.678716 1119.45996,247.735352 C1118.48665,246.791987 1118,245.436858 1118,243.669922 C1118,242.232415 1118.33691,240.869798 1119.01074,239.582031 C1119.68457,238.294264 1120.60546,237.201176 1121.77344,236.302734 C1122.94141,235.404292 1124.22916,234.790366 1125.63672,234.460938 C1124.91797,234.281249 1124.52865,234.191406 1124.46875,234.191406 C1121.23436,234.191406 1117.99253,236.512347 1114.74316,241.154297 C1111.4938,245.796247 1108.14715,254.121685 1104.70312,266.130859 L1100.88477,281 L1087.94727,281 L1099.17773,241.244141 C1099.50716,240.01627 1099.67188,239.087894 1099.67188,238.458984 C1099.67188,237.261062 1099.16277,236.662109 1098.14453,236.662109 C1097.0065,236.662109 1095.97331,237.208653 1095.04492,238.301758 C1094.11653,239.394862 1093.15821,241.274075 1092.16992,243.939453 L1090.41797,248.611328 L1088.66602,248.611328 L1091.13672,241.603516 C1093.41277,235.314422 1097.65036,232.169922 1103.84961,232.169922 C1108.55146,232.169922 1110.90234,234.6406 1110.90234,239.582031 C1110.90234,241.289071 1110.66276,243.100902 1110.18359,245.017578 L1109.375,248.207031 C1110.9323,244.19399 1112.48209,241.019543 1114.02441,238.683594 Z",id:"Editor"})]})})]})}},55423:function(e,t,r){var a=r(3827),s=r(34734);r(64090),t.Z=e=>{let{className:t,loadingText:r}=e;return(0,a.jsx)("p",{className:(0,s.Z)("bg-gradient-to-r from-gray-700 via-fuchsia-400 to-gray-700 bg-clip-text text-transparent bg-[length:200%_200%] animate-gradient-text",t),children:r})}},45677:function(e,t,r){var a=r(3827),s=r(75934),n=r(71126);r(64090);let l=e=>{let{children:t,fallbackElement:r=()=>null,requireAbilityToUseAI:n=!1,requireAbilityToUseGrammar:l=!1,requireAbilityToUseTeamFeatures:i=!1}=e,{customerDetails:o,error:d,isLoading:c}=(0,s.Z)();return c?null:d||!o?(0,a.jsx)(a.Fragment,{children:r()}):n&&!o.canUseAI||i&&!o.canUseTeamFeatures||l&&!o.canUseGrammarCheck?(0,a.jsx)(a.Fragment,{children:r(o)}):(0,a.jsx)(a.Fragment,{children:t})};t.Z=e=>{let{children:t,fallbackElement:r=()=>null,requireAbilityToUseAI:s=!1,requireAbilityToUseGrammar:i=!1,requireAbilityToUseTeamFeatures:o=!1}=e,{data:d}=(0,n.useSession)();return d?s||o||i?(0,a.jsx)(l,{...e}):(0,a.jsx)(a.Fragment,{children:t}):(0,a.jsx)(a.Fragment,{children:r()})}},61665:function(e,t,r){var a=r(3827);r(64090);var s=r(54965),n=r(41754),l=r(93315),i=r(47195),o=r(34734),d=r(34502);t.Z=e=>{var t,r;let{description:c,id:u,label:x,onValueChange:h,options:m,placeholder:g,useInToolbar:p,value:f,...b}=e,C=(0,a.jsxs)(s.xz,{"aria-label":x,className:(0,o.Z)("font-inter text-sm flex flex-row space-x-1 items-center px-2 py-1 dark:text-slate-300 rounded data-[placeholder]:text-gray-500 dark:data-[placeholder]:text-slate-400",p&&"hover:bg-gray-100 dark:hover:bg-slate-500",!p&&"border border-gray-300 dark:border-slate-500 bg-white dark:bg-slate-700 hover:bg-gray-50 dark:hover:bg-slate-600"),id:u,children:[(0,a.jsx)(s.B4,{asChild:!0,className:"font-inter",placeholder:g||"Choose an option...",children:(0,a.jsxs)("div",{className:"flex flex-row items-center space-x-2",children:[null===(t=m.find(e=>e.value===f))||void 0===t?void 0:t.icon,(0,a.jsx)("span",{children:null===(r=m.find(e=>e.value===f))||void 0===r?void 0:r.label})]})}),(0,a.jsx)(s.JO,{children:(0,a.jsx)(l.Z,{className:"w-3"})})]});return(0,a.jsxs)("div",{children:[(0,a.jsxs)("div",{className:(0,o.Z)(x||c?"mb-2":""),children:[x&&(0,a.jsx)(d.f,{className:"font-bold",htmlFor:u,children:x}),c&&(0,a.jsx)("p",{className:"text-sm opacity-75 mt-1",children:c})]}),(0,a.jsxs)(s.fC,{value:f,onValueChange:h,...b,children:[p&&(0,a.jsx)(n.zx,{asChild:!0,children:C}),!p&&C,(0,a.jsx)(s.h_,{children:(0,a.jsxs)(s.VY,{className:"bg-white dark:bg-slate-600 dark:text-slate-300 rounded shadow border border-gray-200 dark:border-slate-500 p-1 z-20 space-y-1 origin-[var(--radix-select-content-transform-origin)] data-[state=open]:animate-scale-in data-[state=closed]:animate-scale-out",position:"popper",side:"bottom",children:[(0,a.jsx)(s.u_,{}),(0,a.jsx)(s.l_,{children:m.map(e=>(0,a.jsxs)(s.ck,{className:(0,o.Z)("flex flex-row cursor-pointer px-7 rounded-sm relative data-[highlighted]:bg-blue-200 dark:data-[highlighted]:bg-blue-800 text-sm font-inter py-1 mx-1 my-1",f===e.value&&"bg-gray-100 dark:bg-slate-700 dark:text-slate-400 cursor-default"),disabled:f===e.value,value:e.value,children:[(0,a.jsx)(s.wU,{className:"absolute left-1 top-[2px]",children:(0,a.jsx)(i.Z,{className:"w-4"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[e.icon&&(0,a.jsx)("span",{className:"flex items-center",children:e.icon}),(0,a.jsx)(s.eT,{children:e.label})]})]},e.value))}),(0,a.jsx)(s.$G,{}),(0,a.jsx)(s.Eh,{className:"fill-gray-200 dark:fill-slate-500 mt-1"})]})})]})]})}},74505:function(e,t,r){var a=r(3827),s=r(34734);r(64090),t.Z=e=>{let{children:t,className:r,textColorClassName:n,textSizeClassName:l,textWeightClassName:i,...o}=e;return(0,a.jsx)("h2",{className:(0,s.Z)(r,i||"font-bold",n||"text-gray-700 dark:text-slate-100",l||"text-xl "),...o,children:t})}},75934:function(e,t,r){var a=r(71126),s=r(87809),n=r(59623);t.Z=()=>{let{data:e}=(0,a.useSession)(),{data:t,error:r,isLoading:l,mutate:i}=(0,s.ZP)(e?"/api/billing":null,n._);return{customerDetails:t,error:r,isLoading:l,refetch:i}}},78579:function(e,t,r){r.d(t,{Z:function(){return u}});var a=r(21790),s=r(60563);let n=e=>{let t=(0,s.Z_)(e);return t[Math.floor(Math.random()*t.length)]},l=e=>{var t,a;let n=(null!==(a=null===(t=r.g.document)||void 0===t?void 0:t.cookie.split(";"))&&void 0!==a?a:[]).find(t=>t.trim().startsWith("".concat((0,s.rS)(e),"=")));return n?n.split("=")[1]:null},i=e=>{var t;let{cohort:a,experimentName:n}=e;(null===(t=r.g.document)||void 0===t?void 0:t.cookie)&&(r.g.document.cookie="".concat((0,s.rS)(n),"=").concat(a,";max-age=").concat(2592e3))},o=e=>{let{experimentName:t,userId:r}=e,a=l(t);return a||i({cohort:a=n(t),experimentName:t}),a};var d=r(71126),c=r(64090);let u=e=>{var t;let{experimentName:r,logExperimentStart:s}=e,{data:n}=(0,d.useSession)(),[l,i]=(0,c.useState)({});return(0,c.useEffect)(()=>{if(!l[r]){var e,t,d;let l=o({experimentName:r,userId:null==n?void 0:null===(e=n.user)||void 0===e?void 0:e.id});i(e=>({...e,[r]:l})),(0,a.NL)({cohort:l,experimentName:r,userId:null==n?void 0:null===(t=n.user)||void 0===t?void 0:t.id}),s&&(0,a.j)({event:"Experiment start",properties:{variant:l,experiment:r},userId:(null==n?void 0:null===(d=n.user)||void 0===d?void 0:d.id)||void 0})}},[l,r,s,null==n?void 0:null===(t=n.user)||void 0===t?void 0:t.id]),l[r]}},59623:function(e,t,r){r.d(t,{_:function(){return a}});let a=async e=>{let t=await fetch(e),r=await t.json();if(!t.ok){let e=Error(r.error.message);throw e.info=r.error.message,e.status=t.status,e}return r}},98171:function(e,t,r){var a=r(87809),s=r(64090),n=r(59623),l=r(21790),i=r(71126),o=r(75934),d=r(43630);t.Z=()=>{let{data:e}=(0,i.useSession)(),{customerDetails:t}=(0,o.Z)(),r=(null==t?void 0:t.status)===d.WE.Trial,{data:c,error:u,isLoading:x,mutate:h}=(0,a.ZP)(r?"/api/onboarding/progress":null,n._,{revalidateIfStale:!1,keepPreviousData:!0,shouldRetryOnError:!1});return{error:u,isLoading:x,markStepComplete:(0,s.useCallback)(async t=>{try{if(!e||!r||!c||c[t])return;await fetch("/api/onboarding/progress",{method:"PUT",body:JSON.stringify({step:t})}),(0,l.j)({event:"Completed onboarding guide step",properties:{step:t},userId:e.user.id}),h()}catch(e){console.log(e)}},[c,h,e,r]),onboardingProgress:c}}},67269:function(e,t,r){r.d(t,{F:function(){return n},NB:function(){return i},Nt:function(){return s},ud:function(){return l}});var a=r(43630);let s=e=>{switch(e){case a._O.Custom:return"Custom Plan";case a._O.PlusTeam10kAnnual:case a._O.PlusTeam10kMonthly:return"Team 10K";case a._O.PlusInd10kAnnual:case a._O.PlusInd10kMonthly:return"Individual 10K";case a._O.PlusInd5kAnnual:case a._O.PlusInd5kMonthly:default:return"Individual 5K"}},n=e=>{switch(e){case a._O.PlusTeam10kAnnual:case a._O.PlusTeam10kMonthly:return!0;default:return!1}},l=e=>{switch(e){case a._O.PlusInd5kAnnual:case a._O.PlusInd10kAnnual:case a._O.PlusTeam10kAnnual:return!0;default:return!1}},i=e=>{switch(e){case a._O.PlusInd5kMonthly:return a._O.PlusInd5kAnnual;case a._O.PlusInd10kMonthly:return a._O.PlusInd10kAnnual;case a._O.PlusTeam10kMonthly:return a._O.PlusTeam10kAnnual;default:throw Error("Invalid monthly plan: ".concat(e))}}},60563:function(e,t,r){var a,s,n,l,i,o,d,c,u,x,h,m,g,p,f,b,C,v,j,y,w,k,N,Z,S,T,L,I,P,A,E,O,D,M,H,z,R,B,_,F,U,W,V,G,Y,K,J,q,Q,$,X,ee,et,er,ea,es,en,el,ei,eo,ed,ec,eu,ex,eh,em;r.d(t,{Vy:function(){return p},Z_:function(){return eg},pe:function(){return D},rS:function(){return ep}}),(M=a||(a={})).control="control",M.newDesign="newDesign",M.newDesignNoDiffs="newDesignNoDiffs",(H=s||(s={})).control="control",H.collapsed="collapsed",(z=n||(n={})).control="control",z.newTable="newTable",(R=l||(l={}))["nov2023-1"]="nov2023-1",R["nov2023-1-med-temp"]="nov2023-1-med-temp",R["test-zero-shot-3"]="test-zero-shot-3",(B=i||(i={}))["nov2023-1"]="nov2023-1",B["nov2023-1-ft"]="nov2023-1-ft",(_=o||(o={}))["customer-limited-test"]="customer-limited-test",_.off="off",(F=d||(d={})).control="control",F.addToChecklist="addToChecklist",F.straightToTutorial="straightToTutorial",(U=c||(c={})).control="control",U.new="new",(W=u||(u={})).control="control",W.writeAndEditWithConfidence="writeAndEditWithConfidence",W.feelConfident="feelConfident",W.shineInHalfTheTime="shineInHalfTheTime",W.fixAndClarifyInSeconds="fixAndClarifyInSeconds",(V=x||(x={})).control="control",V.newFeatures="newFeatures",V.newFeaturesRobotLast="newFeaturesRobotLast",(G=h||(h={})).control="control",G.fuchsia="fuchsia",G.fuchsiaWithBox="fuchsiaWithBox",G.yellow="yellow",G.yellowWithBox="yellowWithBox",(Y=m||(m={})).illustration="illustration",Y.video="video",(K=g||(g={})).formal="formal",K.professional="professional",(J=p||(p={})).control="control",J.bothButtons="bothButtons",J.leftSidebarButton="leftSidebarButton",J.topMenuButton="topMenuButton",(q=f||(f={})).rewrite="rewrite",q.rephrase="rephrase",q.aiTools="aiTools",(Q=b||(b={})).desktop="desktop",Q.editorPlus="editorPlus",($=C||(C={})).redirectToLandingPage="redirectToLandingPage",$.showDialog="showDialog",(X=v||(v={})).classicAdBlock="classicAdBlock",X.greenArrow="greenArrow",(ee=j||(j={})).classicAdBlock="classicAdBlock",ee.greenArrow="greenArrow",ee.subAdBlock="subAdBlock",ee.subGreenArrow="subGreenArrow",(et=y||(y={})).arrowGreen="arrowGreen",et.altArrowGreen="altArrowGreen",et.altArrowGreenAltBtn="altArrowGreenAltBtn",et.boxWithDetails="boxWithDetails",(er=w||(w={})).control="control",er.lockedFeaturesNoContainer="lockedFeaturesNoContainer",er.lockedFeaturesWithContainer="lockedFeaturesWithContainer",er.bulletPoints="bulletPoints",(ea=k||(k={})).control="control",ea.fuchsia="fuchsia",(es=N||(N={})).bannerSwap="bannerSwap",es.doubleCta="doubleCta",es.greenArrow="greenArrow",es.subGreenArrow="subGreenArrow",(en=Z||(Z={})).control="control",en.leftSidebar="leftSidebar",en.rightSidebar="rightSidebar",(el=S||(S={})).original="original",el.mediumChain="mediumChain",el.aggressiveChain="aggressiveChain",(ei=T||(T={})).original="original",ei.test="test",(eo=L||(L={})).control="control",eo.show="show",(ed=I||(I={}))["nov2023-1"]="nov2023-1",ed["nov2023-1-med-temp"]="nov2023-1-med-temp",ed["test-zero-shot-4"]="test-zero-shot-4",ed["test-zero-shot-4-med-temp"]="test-zero-shot-4-med-temp",ed["test-zero-shot-5"]="test-zero-shot-5",(ec=P||(P={}))["test-zero-shot-4"]="test-zero-shot-4",ec["test-zero-shot-4-tf"]="test-zero-shot-4-ft",(eu=A||(A={}))["test-zero-shot-4-ft"]="test-zero-shot-4-ft",eu["test-zero-shot-4-ft-agg"]="test-zero-shot-4-ft-agg",(ex=E||(E={})).video="video",ex.staticImg="staticImg",(eh=O||(O={})).original="original",eh.new="new",(em=D||(D={})).aiDialogDesignNov2024="aiDialogDesignNov2024",em.billingPageCollapseAug24="billingPageCollapseAug24",em.billingPagePricingTableAug2024="billingPagePricingTableAug2024",em.bulkRewritePromptDec1="bulkRewritePromptDec1",em.bulkRewritePromptFeb24="bulkRewritePromptFeb24",em.contentRefreshTypeJune24="contentRefreshTypeJune24",em.contentRefreshTypeJuly8="contentRefreshTypeJuly8",em.editorPlusInteractiveOnboardingOct2024="editorPlusInteractiveOnboardingOct2024",em.editorPlusPageCharactersNov2024="editorPlusPageCharactersNov2024",em.editorPlusPageHeadlineOct2024="editorPlusPageHeadlineOct2024",em.editorPlusPageCtaColorsAug2024="editorPlusPageCtaColorsAug2024",em.editorPlusPageNewFeaturesSept2024="editorPlusPageNewFeaturesSept2024",em.editorPlusPageVideoAug2024="editorPlusPageVideoAug2024",em.formalToolName="formalToolName",em.freeUserTutorialNov2024="freeUserTutorialNov2024",em.grammarLimitedCustomerTest="grammarLimitedCustomerTest",em.homePageAiToolsCtaJuly24="homePageAiToolsCtaJuly24",em.homePageBannerJuly24="homePageBannerJuly24",em.homePageCtaDialog="homePageCtaDialog",em.homePageDesktopCta="homePageDesktopCta",em.homePageLeftSidebarCta="homePageLeftSidebarCta",em.homePageLeftSidebarCtaAug24="homePageLeftSidebarCtaAug24",em.homePageLeftSidebarCtaRd2Aug24="homePageLeftSidebarCtaRd2Aug24",em.homePageLeftSidebarCtaDec23="homePageLeftSidebarCtaDec23",em.homePageLeftSidebarCtaSept24="homePageLeftSidebarCtaSept24",em.homePageUpgradeBtnAug24="homePageUpgradeBtnAug24",em.sentRewritePromptDec1="sentRewritePromptDec1",em.sentRewritePromptDec8="sentRewritePromptDec8",em.sentRewritePromptJan24="sentRewritePromptJan24",em.subPageExampleDec23="subPageExampleDec23",em.subPageDesignJune24="subPageDesignJune24",em.trialChecklistQSG="trialChecklistQSG";let eg=e=>{switch(e){case"aiDialogDesignNov2024":return Object.values(a);case"billingPageCollapseAug24":return Object.values(s);case"billingPagePricingTableAug2024":return Object.values(n);case"grammarLimitedCustomerTest":return["customer-limited-test",...Array.from({length:3}).fill("off")];case"bulkRewritePromptDec1":return Object.values(l);case"bulkRewritePromptFeb24":return Object.values(i);case"contentRefreshTypeJune24":return Object.values(S);case"contentRefreshTypeJuly8":return Object.values(T);case"editorPlusInteractiveOnboardingOct2024":return Object.values(d);case"editorPlusPageCharactersNov2024":return Object.values(c);case"editorPlusPageHeadlineOct2024":return Object.values(u);case"editorPlusPageCtaColorsAug2024":return Object.values(h);case"editorPlusPageNewFeaturesSept2024":return Object.values(x);case"editorPlusPageVideoAug2024":return Object.values(m);case"formalToolName":return Object.values(g);case"freeUserTutorialNov2024":return Object.values(p);case"homePageAiToolsCtaJuly24":return Object.values(f);case"homePageBannerJuly24":return Object.values(b);case"homePageCtaDialog":return Object.values(C);case"homePageDesktopCta":return Object.values(v);case"homePageLeftSidebarCtaAug24":return Object.values(y);case"homePageLeftSidebarCtaRd2Aug24":return Object.values(w);case"homePageLeftSidebarCtaSept24":return Object.values(k);case"homePageLeftSidebarCtaDec23":return Object.values(N);case"homePageLeftSidebarCta":return Object.values(j);case"homePageUpgradeBtnAug24":return Object.values(Z);case"sentRewritePromptDec1":return Object.values(I);case"sentRewritePromptDec8":return Object.values(P);case"sentRewritePromptJan24":return Object.values(A);case"subPageExampleDec23":return Object.values(E);case"subPageDesignJune24":return Object.values(O);case"trialChecklistQSG":return Object.values(L);default:throw Error("Unknown experiment name when getting available cohorts.")}},ep=e=>"".concat("hemingway_experiments","_").concat(e)},85772:function(e,t,r){r.d(t,{H:function(){return a}});let a=e=>{let{email:t,error:r,userId:a}=e;console.error({email:t,error:r,userId:a})}},16701:function(e,t,r){r.d(t,{$G:function(){return s},kC:function(){return a}});let a=e=>e.charAt(0).toUpperCase()+e.slice(1),s=e=>{let{text:t,maxCharacters:r}=e;return t.length>r?"".concat(t.substring(0,r),"..."):t}},43630:function(e,t,r){var a,s,n,l,i,o;r.d(t,{WE:function(){return s},_O:function(){return a}}),(l=a||(a={})).Custom="Custom",l.PlusInd5kMonthly="PlusInd5kMonthly",l.PlusInd5kAnnual="PlusInd5kAnnual",l.PlusInd10kMonthly="PlusInd10kMonthly",l.PlusInd10kAnnual="PlusInd10kAnnual",l.PlusTeam10kMonthly="PlusTeam10kMonthly",l.PlusTeam10kAnnual="PlusTeam10kAnnual",(i=s||(s={})).Trial="trial",i.Customer="customer",i.ExpiredTrial="expiredTrial",i.FormerCustomer="formerCustomer",(o=n||(n={})).time="time",o.ai_limit="ai_limit"},17242:function(e,t,r){var a,s;r.d(t,{j:function(){return a}}),(s=a||(a={})).bulkRewriting="bulkRewriting",s.insertedContent="insertedContent",s.interactiveTutorial="interactiveTutorial",s.quickStartGuide="quickStartGuide",s.sentenceRewriting="sentenceRewriting",s.synonyms="synonyms",s.toneTools="toneTools"}}]);